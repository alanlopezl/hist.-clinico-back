"use strict";(self.webpackChunkFrontEnd_Historial_Clinico=self.webpackChunkFrontEnd_Historial_Clinico||[]).push([[364],{8364:(S,Z,o)=>{o.r(Z),o.d(Z,{MantenimientoModule:()=>ae});var d=o(6814),f=o(3403),x=o(3808),e=o(5879),a=o(6223),g=o(5619),b=o(9397),v=o(7398),A=o(7337),h=o(9862),I=o(2322);let m=(()=>{class s{constructor(t,r){this._http=t,this._globals=r,this.cuestionario=new g.X([]),this.response$=this.cuestionario.asObservable(),this.permiso=new g.X([]),this.responsepermiso$=this.permiso.asObservable(),this.Cargando$=new g.X(!1),this.responseCargando$=this.Cargando$.asObservable(),this.url=`${A.N.url}cuest`,this.register=new a.cw({ID_CUESTIONARIO:new a.NI(null),NOMBRE:new a.NI("",a.kI.required)})}inicializarForm(){this.register.setValue({ID_CUESTIONARIO:null,NOMBRE:""})}popForm(t){console.log(t),this.register.setValue(t)}mostrar(t=""){return this.Cargando$.next(!0),this._globals.obtener("cuest?busqueda="+t).pipe((0,b.b)(i=>{this.Cargando$.next(!1),this.cuestionario.next(i)})).subscribe()}mostrarpermiso(t,r){return this._globals.obtener(`permisossistemaid/${t}/${r}`).pipe((0,b.b)(n=>{this.permiso.next(n)})).subscribe()}crear(t){return this._http.post(this.url,t).pipe((0,v.U)(r=>r))}actualizar(t){return this._http.put(this.url,t).pipe((0,v.U)(r=>r))}eliminar(t){return this._http.delete(this.url+"/"+t)}static#e=this.\u0275fac=function(r){return new(r||s)(e.LFG(h.eN),e.LFG(I.U))};static#t=this.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var u=o(9347),C=o(6405),U=o(1429),E=o(2296),p=o(5195),T=o(2032),_=o(9157);function $(s,l){1&s&&(e.TgZ(0,"mat-hint",8)(1,"strong",9),e._uU(2,"Campo requerido!"),e.qZA()())}let w=(()=>{class s{constructor(t,r,i,n){this._service=t,this.dialogref=r,this._sweet=i,this._bitacora=n}ngOnInit(){}clear(){this._service.register.reset(),this._service.inicializarForm()}cerrarmodal(){this.dialogref.close()}get validateOpinion(){return this._service.register.controls}guardar(){if(this._service.register.valid)if(this._service.register.get("ID_CUESTIONARIO")?.value){let t=this._service.register.value,r={id:this._service.register.get("ID_CUESTIONARIO")?.value,nombre:t.NOMBRE};this._service.actualizar(r).subscribe(i=>{if(i.ok){this._sweet.mensajeSimple("Actualizado correctamente","Cuestionario","success");let n={operacion:"ACTUALIZO",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"ROLES"};this._bitacora.crear(n).subscribe()}else this._sweet.mensajeSimple(i.msg,"CUESTIONARIO","warning");this._service.mostrar(),this.cerrarmodal()})}else this._service.crear({nombre:this._service.register.value.NOMBRE}).subscribe(i=>{if(i.ok){this._sweet.mensajeSimple("Creado correctamente","Cuestionario","success");let n={operacion:"INSERTO",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"ROLES"};this._bitacora.crear(n).subscribe()}else this._sweet.mensajeSimple(i.msg,"CUESTIONARIO","warning");this._service.mostrar()}),this.cerrarmodal()}static#e=this.\u0275fac=function(r){return new(r||s)(e.Y36(m),e.Y36(u.so),e.Y36(C.T),e.Y36(U.D))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-insert-update-cuestionario"]],decls:18,vars:5,consts:[[1,"p-4"],[1,"text-center","texto"],[3,"formGroup"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Ingrese nombre","formControlName","NOMBRE","onkeyup","javascript:this.value=this.value.toUpperCase();","oncopy","return false","onpaste","return false","minlength","3","maxlength","100"],["align","start",4,"ngIf"],["mat-raised-button","","color","primary",1,"m-1","botonnegro",3,"disabled","click"],["mat-raised-button","","color","warn",3,"click"],["align","start"],[1,"text-danger"]],template:function(r,i){if(1&r&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title")(2,"h4",1)(3,"strong"),e._uU(4),e.qZA()()(),e.TgZ(5,"mat-card-subtitle")(6,"form",2)(7,"mat-form-field",3)(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",4),e.YNc(11,$,3,0,"mat-hint",5),e.qZA(),e._UZ(12,"br"),e.qZA()(),e.TgZ(13,"mat-card-actions")(14,"button",6),e.NdJ("click",function(){return i.guardar()}),e._uU(15),e.qZA(),e.TgZ(16,"button",7),e.NdJ("click",function(){return i.cerrarmodal()}),e._uU(17,"Cerrar"),e.qZA()()()),2&r){let n,c;e.xp6(4),e.Oqu(null!=(n=i._service.register.get("ID_CUESTIONARIO"))&&n.value?"ACTUALIZAR":"CREAR"),e.xp6(2),e.Q6J("formGroup",i._service.register),e.xp6(5),e.Q6J("ngIf",i.validateOpinion.NOMBRE.hasError("required")),e.xp6(3),e.Q6J("disabled",!i._service.register),e.xp6(1),e.Oqu(null!=(c=i._service.register.get("ID_CUESTIONARIO"))&&c.value?"Actualizar":"Crear")}},dependencies:[d.O5,E.lW,p.a8,p.hq,p.$j,p.n5,T.Nt,_.KE,_.hX,_.bx,a._Y,a.Fj,a.JJ,a.JL,a.wO,a.nD,a.sg,a.u]})}return s})();var O=o(3365),D=o(617),M=o(5940);function F(s,l){1&s&&(e.TgZ(0,"div",10),e._UZ(1,"mat-spinner"),e.qZA())}function L(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.crear())}),e.TgZ(1,"mat-icon"),e._uU(2," account_circle "),e.qZA(),e._uU(3," Agregar "),e.qZA()}}function q(s,l){1&s&&(e.TgZ(0,"div",21)(1,"div",22),e._uU(2," No existen roles para mostrar "),e.qZA()())}function J(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"tr",33)(1,"td",34),e._uU(2),e.qZA(),e.TgZ(3,"td",34),e._uU(4),e.ALo(5,"uppercase"),e.qZA(),e.TgZ(6,"td",35)(7,"div",36)(8,"button",37),e.NdJ("click",function(){const n=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.editar(n))}),e.TgZ(9,"mat-icon"),e._uU(10,"create"),e.qZA()(),e.TgZ(11,"button",38),e.NdJ("click",function(){const n=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.eliminar(n.ID_CUESTIONARIO))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete_forever"),e.qZA()()()()()}if(2&s){const t=l.$implicit,r=l.index;e.uIk("data-index",r)("data-index",r),e.xp6(2),e.hij(" ",r+1,""),e.xp6(2),e.hij(" ",e.lcZ(5,4,t.NOMBRE),"")}}const j=function(s){return[25,50,100,s]};function z(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"div",24)(1,"table",25)(2,"thead",26)(3,"tr",27)(4,"th",28),e._uU(5,"Id"),e.qZA(),e.TgZ(6,"th",28),e._uU(7,"Nombre"),e.qZA(),e.TgZ(8,"th",29),e._uU(9,"Opciones"),e.qZA()()(),e.TgZ(10,"tbody",30),e.YNc(11,J,14,6,"tr",31),e.ALo(12,"slice"),e.ALo(13,"async"),e.qZA()(),e.TgZ(14,"mat-paginator",32),e.NdJ("page",function(i){e.CHM(t);const n=e.oxw(3);return e.KtG(n.cambioPagina(i))}),e.ALo(15,"async"),e.ALo(16,"async"),e.qZA()()}if(2&s){const t=e.oxw(3);let r,i;e.xp6(11),e.Q6J("ngForOf",e.Dn7(12,4,e.lcZ(13,8,t._service.response$),t.d,t.h)),e.xp6(3),e.Q6J("length",null==(r=e.lcZ(15,10,t._service.response$))?null:r.length)("pageSizeOptions",e.VKq(14,j,null==(i=e.lcZ(16,12,t._service.response$))?null:i.length))("pageSize",t.pageSize)}}function Y(s,l){if(1&s&&(e.TgZ(0,"div",21),e.YNc(1,z,17,16,"div",23),e.ALo(2,"async"),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0!=e.lcZ(2,1,t._service.response$).length)}}function k(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"section")(1,"div",11)(2,"div",12)(3,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.impo())}),e._uU(4," PDF "),e.qZA(),e.YNc(5,L,4,0,"button",14),e.qZA(),e.TgZ(6,"div",15)(7,"mat-form-field",16)(8,"mat-label"),e._uU(9,"Busqueda"),e.qZA(),e.TgZ(10,"input",17),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.buscar=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.busqueda())}),e.qZA(),e.TgZ(11,"mat-icon",18),e._uU(12,"search"),e.qZA()()()(),e.YNc(13,q,3,0,"div",19),e.ALo(14,"async"),e.ALo(15,"async"),e.YNc(16,Y,3,3,"div",19),e.ALo(17,"async"),e.ALo(18,"async"),e.qZA()}if(2&s){const t=e.oxw();e.xp6(5),e.Q6J("ngIf","SI"==(null==t.permisos?null:t.permisos.INSERTAR)),e.xp6(5),e.Q6J("ngModel",t.buscar),e.xp6(3),e.Q6J("ngIf",0==e.lcZ(14,4,t._service.response$).length&&!e.lcZ(15,6,t._service.responseCargando$)),e.xp6(3),e.Q6J("ngIf",!e.lcZ(17,8,t._service.responseCargando$)&&0!=e.lcZ(18,10,t._service.response$).length)}}const B=function(){return["/dashboard"]};let K=(()=>{class s{constructor(t,r,i,n,c){this._service=t,this._dialog=r,this._bitacora=i,this._sweet=n,this.paginator=c,this.pageSize=25,this.pageSizeOptions=[25,50,100],this.d=0,this.h=25,this.buscar="",this.campo=["NOMBRE_ROL"],this.reporte=!1,this.data=[],this.item=[],this.permisos=[],c.itemsPerPageLabel="Cantidad por p\xe1gina",this._service.mostrar(this.buscar),this._service.mostrarpermiso(localStorage.getItem("rol"),3),this._service.responsepermiso$.subscribe(N=>{this.permisos=N[0]})}ngOnInit(){let t={idusuario:localStorage.getItem("user"),idobjeto:3,descripcion:"",accion:"Ingreso"};this._bitacora.crear(t).subscribe()}busqueda(){this._service.mostrar(this.buscar)}ngOnDestroy(){}cambioPagina(t){this.d=t.pageIndex*t.pageSize,this.h=this.d+t.pageSize}crear(){const t=new u.vA;t.disableClose=!0,t.autoFocus=!0,t.width="20%",this._dialog.open(w),this._service.inicializarForm()}editar(t){const r=new u.vA;r.disableClose=!0,r.autoFocus=!0,r.width="25%",this._dialog.open(w),this._service.popForm(t)}eliminar(t){this._sweet.mensajeConConfirmacion("Eliminar","\xbfDesea eliminar el registro?","warning").then(r=>{console.log(r),r&&this._service.eliminar(t).subscribe(i=>{if(this._service.mostrar(this.buscar),i.ok){let n={idusuario:localStorage.getItem("user"),idobjeto:3,descripcion:"",accion:"Elimino"};this._bitacora.crear(n).subscribe(),this._sweet.mensajeSimple("Eliminado correctamente","CUESTIONARIO","success")}else console.log(i),this._sweet.mensajeSimple("No se puede eliminar, en uso","CUESTIONARIO","error")})})}impo(){let i=`\n   <div id="otra">\n   <img src="../../../assets/assets/img/ft.jpg" alt="">\n   <div class="parraf">\n   <h5>Dental Center</h5>\n   <h5>Listado de Cuestionario</h5>\n   <h6>${(new Date).toLocaleString()}</h6>\n   </div>\n   </div><br>`;x({printable:"reporte",type:"html",header:i,css:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",style:"@page {   margin-left: 10%; } #otra {display: block  } #otra img { max-width: 140px;} .parraf { width: 100%; padding: 0px; text-align: center;  max-height: 80px, margin-left: 90%; }",scanStyles:!1,documentTitle:"Cuestionario",font_size:"10pt",ignoreElements:["d"]});let n={operacion:"DESCARGO PDF",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"Cuestionario"};this._bitacora.crear(n).subscribe(c=>c)}static#e=this.\u0275fac=function(r){return new(r||s)(e.Y36(m),e.Y36(u.uw),e.Y36(I.U),e.Y36(C.T),e.Y36(O.ye))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-cuestionario"]],decls:19,vars:8,consts:[[1,"col-lg-6"],["aria-label","breadcrumb"],[1,"texto"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["routerLink","/cuestionario"],["style","display: flex; align-items: center; justify-content: center;",4,"ngIf"],[4,"ngIf"],[2,"display","flex","align-items","center","justify-content","center"],[1,"row"],[1,"col-md-6"],["mat-raised-button","","type","button","color","warn",1,"m-1",3,"click"],["mat-raised-button","","color","accent","class","m-1 botonnegro",3,"click",4,"ngIf"],[1,"col-md-6","d-flex","justify-content-end"],["appearance","outline"],["matInput","","placeholder","Buscar",3,"ngModel","ngModelChange","change"],["matSuffix",""],["class","mt-4",4,"ngIf"],["mat-raised-button","","color","accent",1,"m-1","botonnegro",3,"click"],[1,"mt-4"],["role","alert",1,"alert","alert-warning","text-center"],["id","reporte","class","table-responsive",4,"ngIf"],["id","reporte",1,"table-responsive"],["role","table",1,"table","bordeTabla","tablep"],[1,"theadp"],[1,"botonnegro","text-center"],["scope","col","role","columnheader",1,"thp"],["id","d","scope","col","role","columnheader",1,"thp"],["role","rowgroup",1,"tbodyp"],["class","text-center trp","role","row",4,"ngFor","ngForOf"],["id","d",3,"length","pageSizeOptions","pageSize","page"],["role","row",1,"text-center","trp"],["role","cell","data-title","Nombre",1,"tdp"],["id","d","role","cell","data-title","Opciones",1,"tdp"],[1,"text-center"],["mat-mini-fab","",1,"botonnegro",3,"click"],["mat-mini-fab","","color","warn",3,"click"]],template:function(r,i){1&r&&(e.TgZ(0,"div")(1,"div",0)(2,"nav",1)(3,"h1")(4,"strong",2),e._uU(5,"Cuestionario"),e.qZA()(),e.TgZ(6,"ol",3)(7,"li",4)(8,"a",5),e._uU(9,"Inicio"),e.qZA()(),e.TgZ(10,"li",6)(11,"a",7),e._uU(12,"Cuestionario"),e.qZA()()()()(),e.TgZ(13,"mat-card")(14,"mat-card-content"),e.YNc(15,F,2,0,"div",8),e.ALo(16,"async"),e.YNc(17,k,19,12,"section",9),e.ALo(18,"async"),e.qZA()()()),2&r&&(e.xp6(8),e.Q6J("routerLink",e.DdM(7,B)),e.xp6(7),e.Q6J("ngIf",e.lcZ(16,3,i._service.responseCargando$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(18,5,i._service.responseCargando$)))},dependencies:[d.sg,d.O5,f.rH,D.Hw,E.lW,E.nh,p.a8,p.dn,T.Nt,_.KE,_.hX,_.R9,M.Ou,O.NW,a.Fj,a.JJ,a.On,d.Ov,d.gd,d.OU]})}return s})(),y=(()=>{class s{constructor(t,r){this._http=t,this._globals=r,this.enfermedad=new g.X([]),this.response$=this.enfermedad.asObservable(),this.permiso=new g.X([]),this.responsepermiso$=this.permiso.asObservable(),this.Cargando$=new g.X(!1),this.responseCargando$=this.Cargando$.asObservable(),this.url=`${A.N.url}enfer`,this.register=new a.cw({ID_ENFERMEDAD:new a.NI(null),NOMBRE:new a.NI("",a.kI.required)})}inicializarForm(){this.register.setValue({ID_ENFERMEDAD:null,NOMBRE:""})}popForm(t){console.log(t),this.register.setValue(t)}mostrar(t=""){return this.Cargando$.next(!0),this._globals.obtener("enfer?busqueda="+t).pipe((0,b.b)(i=>{this.Cargando$.next(!1),this.enfermedad.next(i)})).subscribe()}mostrarpermiso(t,r){return this._globals.obtener(`permisossistemaid/${t}/${r}`).pipe((0,b.b)(n=>{this.permiso.next(n)})).subscribe()}crear(t){return this._http.post(this.url,t).pipe((0,v.U)(r=>r))}actualizar(t){return this._http.put(this.url,t).pipe((0,v.U)(r=>r))}eliminar(t){return this._http.delete(this.url+"/"+t)}static#e=this.\u0275fac=function(r){return new(r||s)(e.LFG(h.eN),e.LFG(I.U))};static#t=this.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();function P(s,l){1&s&&(e.TgZ(0,"mat-hint",8)(1,"strong",9),e._uU(2,"Campo requerido!"),e.qZA()())}let R=(()=>{class s{constructor(t,r,i,n){this._service=t,this.dialogref=r,this._sweet=i,this._bitacora=n}ngOnInit(){}clear(){this._service.register.reset(),this._service.inicializarForm()}cerrarmodal(){this.dialogref.close()}get validateOpinion(){return this._service.register.controls}guardar(){if(this._service.register.valid)if(this._service.register.get("ID_ENFERMEDAD")?.value){let t=this._service.register.value,r={id:this._service.register.get("ID_ENFERMEDAD")?.value,nombre:t.NOMBRE};this._service.actualizar(r).subscribe(i=>{if(i.ok){this._sweet.mensajeSimple("Enfermedad actualizada correctamente","Enfermedad","success");let n={operacion:"ACTUALIZO",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"ENFERMEDAD"};this._bitacora.crear(n).subscribe()}else this._sweet.mensajeSimple(i.msg,"ENFERMEDAD","warning");this._service.mostrar(),this.cerrarmodal()})}else this._service.crear({nombre:this._service.register.value.NOMBRE}).subscribe(i=>{if(i.ok){this._sweet.mensajeSimple("Enfermedad creada correctamente","Enfermedad","success");let n={operacion:"INSERTO",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"ENFERMEDAD"};this._bitacora.crear(n).subscribe()}else this._sweet.mensajeSimple(i.msg,"ENFERMEDAD","warning");this._service.mostrar()}),this.cerrarmodal()}static#e=this.\u0275fac=function(r){return new(r||s)(e.Y36(y),e.Y36(u.so),e.Y36(C.T),e.Y36(U.D))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-insert-update-enfermedad"]],decls:18,vars:5,consts:[[1,"p-4"],[1,"text-center","texto"],[3,"formGroup"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Ingrese nombre","formControlName","NOMBRE","onkeypress","return ((event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122) || event.charCode === 32)","onkeyup","javascript:this.value=this.value.toUpperCase();","oncopy","return false","onpaste","return false","minlength","3","maxlength","100"],["align","start",4,"ngIf"],["mat-raised-button","","color","primary",1,"m-1","botonnegro",3,"disabled","click"],["mat-raised-button","","color","warn",3,"click"],["align","start"],[1,"text-danger"]],template:function(r,i){if(1&r&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title")(2,"h4",1)(3,"strong"),e._uU(4),e.qZA()()(),e.TgZ(5,"mat-card-subtitle")(6,"form",2)(7,"mat-form-field",3)(8,"mat-label"),e._uU(9,"Nombre"),e.qZA(),e._UZ(10,"input",4),e.YNc(11,P,3,0,"mat-hint",5),e.qZA(),e._UZ(12,"br"),e.qZA()(),e.TgZ(13,"mat-card-actions")(14,"button",6),e.NdJ("click",function(){return i.guardar()}),e._uU(15),e.qZA(),e.TgZ(16,"button",7),e.NdJ("click",function(){return i.cerrarmodal()}),e._uU(17,"Cerrar"),e.qZA()()()),2&r){let n,c;e.xp6(4),e.Oqu(null!=(n=i._service.register.get("ID_ENFERMEDAD"))&&n.value?"ACTUALIZAR":"CREAR"),e.xp6(2),e.Q6J("formGroup",i._service.register),e.xp6(5),e.Q6J("ngIf",i.validateOpinion.NOMBRE.hasError("required")),e.xp6(3),e.Q6J("disabled",!i._service.register),e.xp6(1),e.Oqu(null!=(c=i._service.register.get("ID_ENFERMEDAD"))&&c.value?"Actualizar":"Crear")}},dependencies:[d.O5,E.lW,p.a8,p.hq,p.$j,p.n5,T.Nt,_.KE,_.hX,_.bx,a._Y,a.Fj,a.JJ,a.JL,a.wO,a.nD,a.sg,a.u]})}return s})();function G(s,l){1&s&&(e.TgZ(0,"div",10),e._UZ(1,"mat-spinner"),e.qZA())}function Q(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.crear())}),e.TgZ(1,"mat-icon"),e._uU(2," account_circle "),e.qZA(),e._uU(3," Agregar "),e.qZA()}}function H(s,l){1&s&&(e.TgZ(0,"div",21)(1,"div",22),e._uU(2," No existen roles para mostrar "),e.qZA()())}function X(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"tr",33)(1,"td",34),e._uU(2),e.qZA(),e.TgZ(3,"td",34),e._uU(4),e.ALo(5,"uppercase"),e.qZA(),e.TgZ(6,"td",35)(7,"div",36)(8,"button",37),e.NdJ("click",function(){const n=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.editar(n))}),e.TgZ(9,"mat-icon"),e._uU(10,"create"),e.qZA()(),e.TgZ(11,"button",38),e.NdJ("click",function(){const n=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.eliminar(n.ID_ENFERMEDAD))}),e.TgZ(12,"mat-icon"),e._uU(13,"delete_forever"),e.qZA()()()()()}if(2&s){const t=l.$implicit,r=l.index;e.uIk("data-index",r)("data-index",r),e.xp6(2),e.hij(" ",r+1,""),e.xp6(2),e.hij(" ",e.lcZ(5,4,t.NOMBRE),"")}}const W=function(s){return[25,50,100,s]};function V(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"div",24)(1,"table",25)(2,"thead",26)(3,"tr",27)(4,"th",28),e._uU(5,"Id"),e.qZA(),e.TgZ(6,"th",28),e._uU(7,"Nombree"),e.qZA(),e.TgZ(8,"th",29),e._uU(9,"Opciones"),e.qZA()()(),e.TgZ(10,"tbody",30),e.YNc(11,X,14,6,"tr",31),e.ALo(12,"slice"),e.ALo(13,"async"),e.qZA()(),e.TgZ(14,"mat-paginator",32),e.NdJ("page",function(i){e.CHM(t);const n=e.oxw(3);return e.KtG(n.cambioPagina(i))}),e.ALo(15,"async"),e.ALo(16,"async"),e.qZA()()}if(2&s){const t=e.oxw(3);let r,i;e.xp6(11),e.Q6J("ngForOf",e.Dn7(12,4,e.lcZ(13,8,t._service.response$),t.d,t.h)),e.xp6(3),e.Q6J("length",null==(r=e.lcZ(15,10,t._service.response$))?null:r.length)("pageSizeOptions",e.VKq(14,W,null==(i=e.lcZ(16,12,t._service.response$))?null:i.length))("pageSize",t.pageSize)}}function ee(s,l){if(1&s&&(e.TgZ(0,"div",21),e.YNc(1,V,17,16,"div",23),e.ALo(2,"async"),e.qZA()),2&s){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0!=e.lcZ(2,1,t._service.response$).length)}}function te(s,l){if(1&s){const t=e.EpF();e.TgZ(0,"section")(1,"div",11)(2,"div",12)(3,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.impo())}),e._uU(4," PDF "),e.qZA(),e.YNc(5,Q,4,0,"button",14),e.qZA(),e.TgZ(6,"div",15)(7,"mat-form-field",16)(8,"mat-label"),e._uU(9,"Busqueda"),e.qZA(),e.TgZ(10,"input",17),e.NdJ("ngModelChange",function(i){e.CHM(t);const n=e.oxw();return e.KtG(n.buscar=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.busqueda())}),e.qZA(),e.TgZ(11,"mat-icon",18),e._uU(12,"search"),e.qZA()()()(),e.YNc(13,H,3,0,"div",19),e.ALo(14,"async"),e.ALo(15,"async"),e.YNc(16,ee,3,3,"div",19),e.ALo(17,"async"),e.ALo(18,"async"),e.qZA()}if(2&s){const t=e.oxw();e.xp6(5),e.Q6J("ngIf","SI"==(null==t.permisos?null:t.permisos.INSERTAR)),e.xp6(5),e.Q6J("ngModel",t.buscar),e.xp6(3),e.Q6J("ngIf",0==e.lcZ(14,4,t._service.response$).length&&!e.lcZ(15,6,t._service.responseCargando$)),e.xp6(3),e.Q6J("ngIf",!e.lcZ(17,8,t._service.responseCargando$)&&0!=e.lcZ(18,10,t._service.response$).length)}}const re=function(){return["/dashboard"]},ie=[{path:"cuestionario",component:K},{path:"enfermedades",component:(()=>{class s{constructor(t,r,i,n,c){this._service=t,this._dialog=r,this._bitacora=i,this._sweet=n,this.paginator=c,this.pageSize=25,this.pageSizeOptions=[25,50,100],this.d=0,this.h=25,this.buscar="",this.campo=["NOMBRE_ROL"],this.reporte=!1,this.data=[],this.item=[],this.permisos=[],c.itemsPerPageLabel="Cantidad por p\xe1gina",this._service.mostrar(this.buscar),this._service.mostrarpermiso(localStorage.getItem("rol"),3),this._service.responsepermiso$.subscribe(N=>{this.permisos=N[0]})}ngOnInit(){let t={idusuario:localStorage.getItem("user"),idobjeto:3,descripcion:"",accion:"Ingreso"};this._bitacora.crear(t).subscribe()}busqueda(){this._service.mostrar(this.buscar)}ngOnDestroy(){}cambioPagina(t){this.d=t.pageIndex*t.pageSize,this.h=this.d+t.pageSize}crear(){const t=new u.vA;t.disableClose=!0,t.autoFocus=!0,t.width="20%",this._dialog.open(R),this._service.inicializarForm()}editar(t){const r=new u.vA;r.disableClose=!0,r.autoFocus=!0,r.width="25%",this._dialog.open(R),this._service.popForm(t)}eliminar(t){this._sweet.mensajeConConfirmacion("Eliminar","\xbfDesea eliminar el registro?","warning").then(r=>{console.log(r),r&&this._service.eliminar(t).subscribe(i=>{if(this._service.mostrar(this.buscar),i.ok){let n={idusuario:localStorage.getItem("user"),idobjeto:3,descripcion:"",accion:"Elimino"};this._bitacora.crear(n).subscribe(),this._sweet.mensajeSimple("Eliminado correctamente","Enfermedad","success")}else console.log(i),this._sweet.mensajeSimple("No se puede eliminar, en uso","Enfermedad","error")})})}impo(){let i=`\n   <div id="otra">\n   <img src="../../../assets/assets/img/ft.jpg" alt="">\n   <div class="parraf">\n   <h5>Dental Center</h5>\n   <h5>Listado de Enfermedad</h5>\n   <h6>${(new Date).toLocaleString()}</h6>\n   </div>\n   </div><br>`;x({printable:"reporte",type:"html",header:i,css:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",style:"@page {   margin-left: 10%; } #otra {display: block  } #otra img { max-width: 140px;} .parraf { width: 100%; padding: 0px; text-align: center;  max-height: 80px, margin-left: 90%; }",scanStyles:!1,documentTitle:"Enfermedad",font_size:"10pt",ignoreElements:["d"]});let n={operacion:"DESCARGO PDF",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"ENFERMDAD"};this._bitacora.crear(n).subscribe(c=>c)}static#e=this.\u0275fac=function(r){return new(r||s)(e.Y36(y),e.Y36(u.uw),e.Y36(I.U),e.Y36(C.T),e.Y36(O.ye))};static#t=this.\u0275cmp=e.Xpm({type:s,selectors:[["app-enfermedad"]],decls:19,vars:8,consts:[[1,"col-lg-6"],["aria-label","breadcrumb"],[1,"texto"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["routerLink","/roles"],["style","display: flex; align-items: center; justify-content: center;",4,"ngIf"],[4,"ngIf"],[2,"display","flex","align-items","center","justify-content","center"],[1,"row"],[1,"col-md-6"],["mat-raised-button","","type","button","color","warn",1,"m-1",3,"click"],["mat-raised-button","","color","accent","class","m-1 botonnegro",3,"click",4,"ngIf"],[1,"col-md-6","d-flex","justify-content-end"],["appearance","outline"],["matInput","","placeholder","Buscar",3,"ngModel","ngModelChange","change"],["matSuffix",""],["class","mt-4",4,"ngIf"],["mat-raised-button","","color","accent",1,"m-1","botonnegro",3,"click"],[1,"mt-4"],["role","alert",1,"alert","alert-warning","text-center"],["id","reporte","class","table-responsive",4,"ngIf"],["id","reporte",1,"table-responsive"],["role","table",1,"table","bordeTabla","tablep"],[1,"theadp"],[1,"botonnegro","text-center"],["scope","col","role","columnheader",1,"thp"],["id","d","scope","col","role","columnheader",1,"thp"],["role","rowgroup",1,"tbodyp"],["class","text-center trp","role","row",4,"ngFor","ngForOf"],["id","d",3,"length","pageSizeOptions","pageSize","page"],["role","row",1,"text-center","trp"],["role","cell","data-title","Nombre",1,"tdp"],["id","d","role","cell","data-title","Opciones",1,"tdp"],[1,"text-center"],["mat-mini-fab","",1,"botonnegro",3,"click"],["mat-mini-fab","","color","warn",3,"click"]],template:function(r,i){1&r&&(e.TgZ(0,"div")(1,"div",0)(2,"nav",1)(3,"h1")(4,"strong",2),e._uU(5,"Enfermedades"),e.qZA()(),e.TgZ(6,"ol",3)(7,"li",4)(8,"a",5),e._uU(9,"Inicio"),e.qZA()(),e.TgZ(10,"li",6)(11,"a",7),e._uU(12,"Enfermedades"),e.qZA()()()()(),e.TgZ(13,"mat-card")(14,"mat-card-content"),e.YNc(15,G,2,0,"div",8),e.ALo(16,"async"),e.YNc(17,te,19,12,"section",9),e.ALo(18,"async"),e.qZA()()()),2&r&&(e.xp6(8),e.Q6J("routerLink",e.DdM(7,re)),e.xp6(7),e.Q6J("ngIf",e.lcZ(16,3,i._service.responseCargando$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(18,5,i._service.responseCargando$)))},dependencies:[d.sg,d.O5,f.rH,D.Hw,E.lW,E.nh,p.a8,p.dn,T.Nt,_.KE,_.hX,_.R9,M.Ou,O.NW,a.Fj,a.JJ,a.On,d.Ov,d.gd,d.OU]})}return s})()}];let se=(()=>{class s{static#e=this.\u0275fac=function(r){return new(r||s)};static#t=this.\u0275mod=e.oAB({type:s});static#r=this.\u0275inj=e.cJS({imports:[f.Bz.forChild(ie),f.Bz]})}return s})();var ne=o(5089),oe=o(5986);let ae=(()=>{class s{static#e=this.\u0275fac=function(r){return new(r||s)};static#t=this.\u0275mod=e.oAB({type:s});static#r=this.\u0275inj=e.cJS({imports:[d.ez,se,ne.q,a.u5,a.UX,oe.p9]})}return s})()},1429:(S,Z,o)=>{o.d(Z,{D:()=>A});var d=o(6223),f=o(5619),x=o(9397),e=o(7398),a=o(7337),g=o(5879),b=o(9862),v=o(2322);let A=(()=>{class h{constructor(m,u){this._http=m,this._globals=u,this.bitacora=new f.X([]),this.response$=this.bitacora.asObservable(),this.Cargando$=new f.X(!1),this.responseCargando$=this.Cargando$.asObservable(),this.url=`${a.N.url}bitacora`,this.register=new d.cw({COD_ROL:new d.NI(null),NOMBRE_ROL:new d.NI("",d.kI.required)})}inicializarForm(){this.register.setValue({COD_ROL:null,NOMBRE_ROL:""})}popForm(m){this.register.setValue(m)}mostrar(m=""){return this.Cargando$.next(!0),this._globals.obtener("bitacora?busqueda="+m).pipe((0,x.b)(C=>{this.Cargando$.next(!1),this.bitacora.next(C)})).subscribe()}crear(m){return this._http.post(this.url,m).pipe((0,e.U)(u=>u))}actualizar(m){return this._http.put(this.url,m).pipe((0,e.U)(u=>u))}eliminar(){return this._http.delete(this.url)}static#e=this.\u0275fac=function(u){return new(u||h)(g.LFG(b.eN),g.LFG(v.U))};static#t=this.\u0275prov=g.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()}}]);