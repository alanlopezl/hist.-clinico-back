"use strict";(self.webpackChunkFrontEnd_Historial_Clinico=self.webpackChunkFrontEnd_Historial_Clinico||[]).push([[369],{6369:(G,q,l)=>{l.r(q),l.d(q,{PacientesModule:()=>pt});var d=l(6814),_=l(3403),C=l(9347),T=l(3808),e=l(5879),r=l(6223),Z=l(5619),v=l(9397),I=l(7398),f=l(7337),D=l(9862),g=l(2322);let p=(()=>{class n{constructor(t,o){this._http=t,this._globals=o,this.pacientes=new Z.X([]),this.response$=this.pacientes.asObservable(),this.selectedIdPaciente=0,this.selectedNamePaciente="",this.permiso=new Z.X([]),this.responsepermiso$=this.permiso.asObservable(),this.Cargando$=new Z.X(!1),this.responseCargando$=this.Cargando$.asObservable(),this.url=`${f.N.url}pacientes`,this.register=new r.cw({COD_PERSONA:new r.NI(null),PRIMER_NOMBRE:new r.NI("",r.kI.required),SEGUNDO_NOMBRE:new r.NI(""),PRIMER_APELLIDO:new r.NI("",r.kI.required),SEGUNDO_APELLIDO:new r.NI(""),DNI:new r.NI("",r.kI.required),FEC_NACIMIENTO:new r.NI("",r.kI.required),SEXO:new r.NI("",r.kI.required),EDAD:new r.NI("",r.kI.required),EMAIL:new r.NI("",r.kI.required),CIVIL:new r.NI("",r.kI.required),OCUPACION:new r.NI("",r.kI.required),TEL:new r.NI("",r.kI.required),CONTACTO_EMERGENCIA:new r.NI("",r.kI.required),EMERGENCIA_TEL:new r.NI("",r.kI.required),DIRECCION:new r.NI("",r.kI.required),OBS:new r.NI("")})}inicializarForm(){this.register.setValue({COD_PERSONA:null,PRIMER_NOMBRE:"",SEGUNDO_NOMBRE:"",PRIMER_APELLIDO:"",SEGUNDO_APELLIDO:"",DNI:"",FEC_NACIMIENTO:"",SEXO:"",EDAD:"",EMAIL:"",CIVIL:"",OCUPACION:"",TEL:"",CONTACTO_EMERGENCIA:"",EMERGENCIA_TEL:"",OBS:"",DIRECCION:""})}popForm(t){this.register.patchValue({COD_PERSONA:t.COD_PERSONA,PRIMER_NOMBRE:t.PRIMER_NOMBRE,SEGUNDO_NOMBRE:t.SEGUNDO_NOMBRE,PRIMER_APELLIDO:t.PRIMER_APELLIDO,SEGUNDO_APELLIDO:t.SEGUNDO_APELLIDO,DNI:t.DNI,FEC_NACIMIENTO:t.FEC_NACIMIENTO,SEXO:t.SEXO,EDAD:t.EDAD,EMAIL:t.EMAIL,CIVIL:t.EST_CIVIL,OCUPACION:t.OCUPACION,TEL:t.TELEFONO,CONTACTO_EMERGENCIA:t.CONTACTO_EMERGENCIA,EMERGENCIA_TEL:t.CONTACTO_EMER_TEL,OBS:t.OBSERVACIONES,DIRECCION:t.DIRECCION}),console.log(this.register.value)}mostrar(t=""){return this.Cargando$.next(!0),this._globals.obtener("pacientes?busqueda="+t).pipe((0,v.b)(i=>{this.Cargando$.next(!1),this.pacientes.next(i)})).subscribe()}mostrarpermiso(t,o){return this._globals.obtener(`permisossistemaid/${t}/${o}`).pipe((0,v.b)(a=>{this.permiso.next(a)})).subscribe()}crear(t){return this._http.post(this.url,t).pipe((0,I.U)(o=>o))}actualizar(t){return this._http.put(this.url,t).pipe((0,I.U)(o=>o))}eliminar(t){return this._http.delete(this.url+"/"+t)}static#e=this.\u0275fac=function(o){return new(o||n)(e.LFG(D.eN),e.LFG(g.U))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var b=l(6405),H=l(1429),O=l(2296),u=l(5195),x=l(2032),h=l(9157),M=l(8525),P=l(3680),L=l(8034);let k=(()=>{class n{constructor(t,o,i,a){this._service=t,this.dialogref=o,this._sweet=i,this._bitacora=a,this.fecha=new Date}ngOnInit(){}clear(){this._service.register.reset(),this._service.inicializarForm()}cerrarmodal(){this.dialogref.close()}get validateOpinion(){return this._service.register.controls}guardar(){if(this._service.register.valid)if(this._service.register.get("COD_PERSONA")?.value){let t=this._service.register.value;this._service.actualizar({id:t.COD_PERSONA,primern:t.PRIMER_NOMBRE,segudon:t.SEGUNDO_NOMBRE||"",primera:t.PRIMER_APELLIDO,segundoa:t.SEGUNDO_APELLIDO||"",dni:t.DNI,nacimiento:t.FEC_NACIMIENTO,estado:t.EST_CIVIL,sexo:t.SEXO,idtipo:2,edad:t.EDAD,email:t.EMAIL,civil:t.CIVIL,ocupacion:t.OCUPACION,tel:t.TEL,cont_emer:t.CONTACTO_EMERGENCIA,emer_tel:t.EMERGENCIA_TEL,obs:t.OBS,dir:t.DIRECCION}).subscribe(i=>{console.log(i),this._sweet.mensajeSimple("Actualizado correctamente","PACIENTE","success");let a={operacion:"ACTUALIZO",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"PACIENTE"};this._bitacora.crear(a).subscribe(),this._service.mostrar(),this.cerrarmodal()})}else{let t=this._service.register.value;this._service.crear({primern:t.PRIMER_NOMBRE,segudon:t.SEGUNDO_NOMBRE||"",primera:t.PRIMER_APELLIDO,segundoa:t.SEGUNDO_APELLIDO||"",dni:t.DNI||"",nacimiento:t.FEC_NACIMIENTO,estado:t.EST_CIVIL,sexo:t.SEXO,tipo:2,edad:t.EDAD,email:t.EMAIL,civil:t.CIVIL,ocupacion:t.OCUPACION,tel:t.TEL,cont_emer:t.CONTACTO_EMERGENCIA,emer_tel:t.EMERGENCIA_TEL,obs:t.OBS,dir:t.DIRECCION}).subscribe(i=>{if(i.ok){this._sweet.mensajeSimple("Creado correctamente","PACIENTE","success");let a={operacion:"INSERTO",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"PACIENTE"};this._bitacora.crear(a).subscribe(),this.cerrarmodal()}else this._sweet.mensajeSimple(i.msg,"MEDICO","warning");this._service.mostrar()})}}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(p),e.Y36(C.so),e.Y36(b.T),e.Y36(H.D))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-pacientes-insert-update"]],decls:119,vars:6,consts:[[1,"p-3"],[1,"text-center"],[1,"texto"],[3,"formGroup"],[1,"row"],[1,"col-lg-3"],["appearance","outline",1,"example-full-width"],["matInput","","placeholder","Ingrese primer nombre","formControlName","PRIMER_NOMBRE","maxlength","15","onkeypress","return ((event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122))","onkeyup","javascript:this.value=this.value.toUpperCase();","oncopy","return false","onpaste","return false"],["matInput","","placeholder","Ingrese segundo nombre","formControlName","SEGUNDO_NOMBRE","maxlength","15","onkeypress","return ((event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122))","onkeyup","javascript:this.value=this.value.toUpperCase();","oncopy","return false","onpaste","return false"],["matInput","","placeholder","Ingrese primer apellido","formControlName","PRIMER_APELLIDO","maxlength","15","required","","onkeypress","return ((event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122))","onkeyup","javascript:this.value=this.value.toUpperCase();","oncopy","return false","onpaste","return false"],["matInput","","placeholder","Ingrese segundo apellido","formControlName","SEGUNDO_APELLIDO","maxlength","15","onkeypress","return ((event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122))","onkeyup","javascript:this.value=this.value.toUpperCase();","oncopy","return false","onpaste","return false"],["matInput","","placeholder","Ingrese identidad","formControlName","DNI","maxlength","13","minlength","13","required","","onkeypress","return ((event.charCode >= 48 && event.charCode <= 57) || (event.charCode >= 45 && event.charCode <= 45) )","oncopy","return false","onpaste","return false"],["matInput","","placeholder","Ingrese identidad","formControlName","EDAD","maxlength","3","required","","onkeypress","return ((event.charCode >= 48 && event.charCode <= 57) || (event.charCode >= 45 && event.charCode <= 45) )","oncopy","return false","onpaste","return false"],["appearance","outline"],["formControlName","SEXO"],["value","MASCULINO"],["value","FEMENINO"],["formControlName","CIVIL"],["value","Soltero"],["value","Casado"],["value","Uni\xf3n libre"],["matInput","","placeholder","Ingrese Ocupaci\xf3n","formControlName","OCUPACION","maxlength","100","required",""],["matInput","","formControlName","FEC_NACIMIENTO","onkeydown","return false",3,"matDatepicker","max"],["matSuffix","",3,"for"],["picker",""],["matInput","","placeholder","Ingrese primer apellido","formControlName","DIRECCION","maxlength","250","required",""],["matInput","","placeholder","Ingrese su correo","formControlName","EMAIL","minlength","7"],["matInput","","placeholder","Ingrese Tel\xe9fono","formControlName","TEL","maxlength","8","minlength","8","required","","onkeypress","return ((event.charCode >= 48 && event.charCode <= 57) || (event.charCode >= 45 && event.charCode <= 45) )","oncopy","return false","onpaste","return false"],["matInput","","placeholder","Ingrese Ocupaci\xf3n","formControlName","CONTACTO_EMERGENCIA"],["matInput","","placeholder","Ingrese Ocupaci\xf3n","formControlName","EMERGENCIA_TEL","maxlength","8","minlength","8","required","","onkeypress","return ((event.charCode >= 48 && event.charCode <= 57) || (event.charCode >= 45 && event.charCode <= 45) )","oncopy","return false","onpaste","return false"],["rows","4","matInput","","placeholder","Ingrese Observaciones","formControlName","OBS","maxlength","500"],["mat-raised-button","","color","primary",1,"m-3","botonnegro",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(o,i){if(1&o&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title")(2,"h4",1)(3,"strong",2),e._uU(4),e.qZA()()(),e.TgZ(5,"mat-card-subtitle")(6,"form",3)(7,"div",4)(8,"h3"),e._uU(9,"Informaci\xf3n del paciente"),e.qZA(),e.TgZ(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),e._uU(13,"Primer Nombre"),e.qZA(),e._UZ(14,"input",7),e.qZA()(),e.TgZ(15,"div",5)(16,"mat-form-field",6)(17,"mat-label"),e._uU(18,"Segundo Nombre"),e.qZA(),e._UZ(19,"input",8),e.qZA()(),e.TgZ(20,"div",5)(21,"mat-form-field",6)(22,"mat-label"),e._uU(23,"Primer Apellido"),e.qZA(),e._UZ(24,"input",9),e.qZA()(),e.TgZ(25,"div",5)(26,"mat-form-field",6)(27,"mat-label"),e._uU(28,"Segundo Apellido"),e.qZA(),e._UZ(29,"input",10),e.qZA()()(),e.TgZ(30,"div",4)(31,"div",5)(32,"mat-form-field",6)(33,"mat-label"),e._uU(34,"Identidad"),e.qZA(),e._UZ(35,"input",11),e.qZA()(),e.TgZ(36,"div",5)(37,"mat-form-field",6)(38,"mat-label"),e._uU(39,"Edad"),e.qZA(),e._UZ(40,"input",12),e.qZA()(),e.TgZ(41,"div",5)(42,"mat-form-field",13)(43,"mat-label"),e._uU(44,"Sexo"),e.qZA(),e.TgZ(45,"mat-select",14)(46,"mat-option",15),e._uU(47,"Masculino"),e.qZA(),e.TgZ(48,"mat-option",16),e._uU(49,"Femenino"),e.qZA()()()(),e.TgZ(50,"div",5)(51,"mat-form-field",13)(52,"mat-label"),e._uU(53,"Estado Civil"),e.qZA(),e.TgZ(54,"mat-select",17)(55,"mat-option",18),e._uU(56,"Soltero"),e.qZA(),e.TgZ(57,"mat-option",19),e._uU(58,"Casado"),e.qZA(),e.TgZ(59,"mat-option",20),e._uU(60,"Uni\xf3n libre"),e.qZA()()()(),e.TgZ(61,"div",5)(62,"mat-form-field",6)(63,"mat-label"),e._uU(64,"Ocupaci\xf3n"),e.qZA(),e._UZ(65,"input",21),e.qZA()(),e.TgZ(66,"div",5)(67,"mat-form-field",13)(68,"mat-label"),e._uU(69,"Fecha Nacimiento"),e.qZA(),e._UZ(70,"input",22),e.TgZ(71,"mat-hint"),e._uU(72,"DD/MM/YYYY"),e.qZA(),e._UZ(73,"mat-datepicker-toggle",23)(74,"mat-datepicker",null,24),e.qZA()(),e.TgZ(76,"div",5)(77,"mat-form-field",6)(78,"mat-label"),e._uU(79,"Direccion"),e.qZA(),e._UZ(80,"input",25),e.qZA()()(),e.TgZ(81,"div",4)(82,"h3"),e._uU(83,"Contacto del paciente"),e.qZA(),e.TgZ(84,"div",5)(85,"mat-form-field",6)(86,"mat-label"),e._uU(87,"Correo Electr\xf3nico"),e.qZA(),e._UZ(88,"input",26),e.qZA()(),e.TgZ(89,"div",5)(90,"mat-form-field",6)(91,"mat-label"),e._uU(92,"Tel\xe9fono"),e.qZA(),e._UZ(93,"input",27),e.qZA()()(),e.TgZ(94,"div",4)(95,"h3"),e._uU(96,"Contacto de emergencia"),e.qZA(),e.TgZ(97,"div",5)(98,"mat-form-field",6)(99,"mat-label"),e._uU(100,"Contacto de emergencia"),e.qZA(),e._UZ(101,"input",28),e.qZA()(),e.TgZ(102,"div",5)(103,"mat-form-field",6)(104,"mat-label"),e._uU(105,"Tel\xe9fono"),e.qZA(),e._UZ(106,"input",29),e.qZA()()(),e.TgZ(107,"div",4)(108,"h3"),e._uU(109,"Observaciones"),e.qZA(),e.TgZ(110,"mat-form-field",6)(111,"mat-label"),e._uU(112,"Observaciones"),e.qZA(),e._UZ(113,"textarea",30),e.qZA()()()(),e.TgZ(114,"mat-card-actions")(115,"button",31),e.NdJ("click",function(){return i.guardar()}),e._uU(116),e.qZA(),e.TgZ(117,"button",32),e.NdJ("click",function(){return i.cerrarmodal()}),e._uU(118,"Cerrar"),e.qZA()()()),2&o){const a=e.MAs(75);let c,m;e.xp6(4),e.Oqu(null!=(c=i._service.register.get("COD_PERSONA"))&&c.value?"ACTUALIZAR":"CREAR"),e.xp6(2),e.Q6J("formGroup",i._service.register),e.xp6(64),e.Q6J("matDatepicker",a)("max",i.fecha),e.xp6(3),e.Q6J("for",a),e.xp6(43),e.Oqu(null!=(m=i._service.register.get("COD_PERSONA"))&&m.value?"Actualizar":"Crear")}},dependencies:[O.lW,u.a8,u.hq,u.$j,u.n5,x.Nt,h.KE,h.hX,h.bx,h.R9,M.gD,P.ey,L.Mq,L.hl,L.nW,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.wO,r.nD,r.sg,r.u]})}return n})();var S=l(3365),R=l(617),J=l(5940),w=l(7988);function z(n,s){1&n&&(e.TgZ(0,"div",9),e._UZ(1,"mat-spinner"),e.qZA())}function K(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.crear())}),e.TgZ(1,"mat-icon"),e._uU(2," account_circle "),e.qZA(),e._uU(3," Agregar "),e.qZA()}}function V(n,s){1&n&&(e.TgZ(0,"div")(1,"div",20),e._uU(2," No existen roles para mostrar "),e.qZA()())}function X(n,s){1&n&&(e.TgZ(0,"th",32),e._uU(1,"Opciones"),e.qZA())}function W(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(4);return e.KtG(a.editar(i))}),e.TgZ(1,"mat-icon"),e._uU(2,"create"),e.qZA()()}}function ee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(4);return e.KtG(a.eliminar(i.COD_PERSONA))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA()()}}function te(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"td",36)(1,"div",37)(2,"button",38)(3,"mat-icon"),e._uU(4,"how_to_reg"),e.qZA()(),e.TgZ(5,"mat-menu",null,39)(7,"button",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.selectPacienteInfo(i))}),e.TgZ(8,"mat-icon"),e._uU(9,"feed"),e.qZA(),e.TgZ(10,"span"),e._uU(11,"Ver exploraci\xf3n"),e.qZA()(),e.TgZ(12,"button",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.selectPaciente(i))}),e.TgZ(13,"mat-icon"),e._uU(14,"how_to_reg"),e.qZA(),e.TgZ(15,"span"),e._uU(16,"Llenar exploraci\xf3n"),e.qZA()(),e.TgZ(17,"button",40),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.goOdontograma(i))}),e.TgZ(18,"mat-icon"),e._uU(19,"design_services"),e.qZA(),e.TgZ(20,"span"),e._uU(21,"Odontograma"),e.qZA()()(),e.YNc(22,W,3,0,"button",41),e.YNc(23,ee,3,0,"button",42),e.qZA()()}if(2&n){const t=e.MAs(6),o=e.oxw(5);e.xp6(2),e.Q6J("matMenuTriggerFor",t),e.xp6(20),e.Q6J("ngIf","SI"==(null==o.permisos?null:o.permisos.ACTUALIZAR)),e.xp6(1),e.Q6J("ngIf","SI"==(null==o.permisos?null:o.permisos.ELIMINAR))}}function oe(n,s){if(1&n&&(e.TgZ(0,"tr",33)(1,"td",34),e._uU(2),e.qZA(),e.TgZ(3,"td",34),e._uU(4),e.qZA(),e.TgZ(5,"td",34),e._uU(6),e.qZA(),e.TgZ(7,"td",34),e._uU(8),e.qZA(),e.TgZ(9,"td",34),e._uU(10),e.qZA(),e.TgZ(11,"td",34),e._uU(12),e.qZA(),e.YNc(13,te,24,3,"td",35),e.qZA()),2&n){const t=s.$implicit,o=s.index,i=e.oxw(4);e.uIk("data-index",o),e.xp6(2),e.hij(" ",o+1,""),e.xp6(2),e.AsE(" ",t.PRIMER_NOMBRE," ",t.PRIMER_APELLIDO,""),e.xp6(2),e.hij(" ",t.TELEFONO,""),e.xp6(2),e.hij(" ",t.EMAIL,""),e.xp6(2),e.hij(" ",t.EDAD," "),e.xp6(2),e.hij(" ",t.SEXO,""),e.xp6(1),e.Q6J("ngIf","SI"==(null==i.permisos?null:i.permisos.ACTUALIZAR)||"SI"==(null==i.permisos?null:i.permisos.ELIMINAR))}}const ie=function(n){return[25,50,100,n]};function ne(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"table",24)(2,"thead",25)(3,"tr",26)(4,"th",27),e._uU(5,"Id"),e.qZA(),e.TgZ(6,"th",27),e._uU(7,"Nombre"),e.qZA(),e.TgZ(8,"th",27),e._uU(9,"Tel\xe9fono"),e.qZA(),e.TgZ(10,"th",27),e._uU(11,"Correo"),e.qZA(),e.TgZ(12,"th",27),e._uU(13,"Edad"),e.qZA(),e.TgZ(14,"th",27),e._uU(15,"Sexo"),e.qZA(),e.YNc(16,X,2,0,"th",28),e.qZA()(),e.TgZ(17,"tbody",29),e.YNc(18,oe,14,9,"tr",30),e.ALo(19,"slice"),e.ALo(20,"async"),e.qZA()(),e.TgZ(21,"mat-paginator",31),e.NdJ("page",function(i){e.CHM(t);const a=e.oxw(3);return e.KtG(a.cambioPagina(i))}),e.ALo(22,"async"),e.ALo(23,"async"),e.qZA()()}if(2&n){const t=e.oxw(3);let o,i;e.xp6(16),e.Q6J("ngIf","SI"==(null==t.permisos?null:t.permisos.ACTUALIZAR)||"SI"==(null==t.permisos?null:t.permisos.ELIMINAR)),e.xp6(2),e.Q6J("ngForOf",e.Dn7(19,5,e.lcZ(20,9,t._service.response$),t.d,t.h)),e.xp6(3),e.Q6J("length",null==(o=e.lcZ(22,11,t._service.response$))?null:o.length)("pageSize",t.pageSize)("pageSizeOptions",e.VKq(15,ie,null==(i=e.lcZ(23,13,t._service.response$))?null:i.length))}}function ae(n,s){if(1&n&&(e.TgZ(0,"div",21),e.YNc(1,ne,24,17,"div",22),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0!=e.lcZ(2,1,t._service.response$).length)}}function re(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"section")(1,"div",10)(2,"div",11)(3,"button",12),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.impo())}),e._uU(4," PDF "),e.qZA(),e.YNc(5,K,4,0,"button",13),e.qZA(),e.TgZ(6,"div",14)(7,"mat-form-field",15)(8,"mat-label"),e._uU(9,"Busqueda"),e.qZA(),e.TgZ(10,"input",16),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.buscar=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.busqueda())}),e.qZA(),e.TgZ(11,"mat-icon",17),e._uU(12,"search"),e.qZA()()()(),e.YNc(13,V,3,0,"div",8),e.ALo(14,"async"),e.ALo(15,"async"),e.YNc(16,ae,3,3,"div",18),e.ALo(17,"async"),e.ALo(18,"async"),e.qZA()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf","SI"==(null==t.permisos?null:t.permisos.INSERTAR)),e.xp6(5),e.Q6J("ngModel",t.buscar),e.xp6(3),e.Q6J("ngIf",0==e.lcZ(14,4,t._service.response$).length&&!e.lcZ(15,6,t._service.responseCargando$)),e.xp6(3),e.Q6J("ngIf",!e.lcZ(17,8,t._service.responseCargando$)&&0!=e.lcZ(18,10,t._service.response$).length)}}const se=function(){return["/dashboard"]};let ce=(()=>{class n{constructor(t,o,i,a,c,m){this._service=t,this._dialog=o,this._bitacora=i,this._sweet=a,this.paginator=c,this.router=m,this.pageSize=25,this.pageSizeOptions=[25,50,100],this.d=0,this.h=25,this.buscar="",this.campo=["TIPO"],this.reporte=!1,this.data=[],this.item=[],this.permisos=[],c.itemsPerPageLabel="Cantidad por p\xe1gina",this._service.mostrar(this.buscar),this._service.mostrarpermiso(localStorage.getItem("rol"),14),this._service.responsepermiso$.subscribe(A=>{this.permisos=A[0]})}ngOnInit(){}busqueda(){this._service.mostrar(this.buscar)}selectPaciente(t){this._service.selectedIdPaciente=t.COD_PERSONA,this._service.selectedNamePaciente=`${t.PRIMER_NOMBRE} ${t.PRIMER_APELLIDO}`,this.router.navigateByUrl("/pacientes/tratamiento")}goOdontograma(t){this._service.selectedIdPaciente=t.COD_PERSONA,this._service.selectedNamePaciente=`${t.PRIMER_NOMBRE} ${t.PRIMER_APELLIDO}`,this.router.navigateByUrl("/pacientes/odontograma")}selectPacienteInfo(t){this._service.selectedIdPaciente=t.COD_PERSONA,this._service.selectedNamePaciente=`${t.PRIMER_NOMBRE} ${t.PRIMER_APELLIDO}`,this.router.navigateByUrl("/pacientes/tratamiento/info")}ngOnDestroy(){}cambioPagina(t){this.d=t.pageIndex*t.pageSize,this.h=this.d+t.pageSize}crear(){const t=new C.vA;t.disableClose=!0,t.autoFocus=!0,t.width="20%",this._dialog.open(k),this._service.inicializarForm()}editar(t){const o=new C.vA;o.disableClose=!0,o.autoFocus=!0,o.width="60%",this._dialog.open(k),this._service.popForm(t)}eliminar(t){this._sweet.mensajeConConfirmacion("Eliminar","\xbfDesea eliminar el registro?","warning").then(o=>{console.log(o),o&&this._service.eliminar(t).subscribe(i=>{if(this._service.mostrar(this.buscar),i.ok){let a={operacion:"ELIMINO",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"PACIENTES"};this._bitacora.crear(a).subscribe(),this._sweet.mensajeSimple("Eliminado correctamente","PACIENTES","success")}else console.log(i),this._sweet.mensajeSimple("No se puede eliminar, paciente en uso","Pacientes","error")})})}impo(){let i=`\n   <div id="otra">\n   <img src="../../../assets/assets/img/ft.jpg" alt="">\n   <div class="parraf">\n   <h5>Dental Center</h5>\n   <h5>Listado de Pacientes</h5>\n   <h6>${(new Date).toLocaleString()}</h6>\n   </div>\n   </div><br>`;T({printable:"reporte",type:"html",header:i,css:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",style:"@page {   margin-left: 10%; } #otra {display: block  } #otra img { max-width: 140px;} .parraf { width: 100%; padding: 0px; text-align: center;  max-height: 80px, margin-left: 90%; }",scanStyles:!1,documentTitle:"Paciente",font_size:"10pt",ignoreElements:["d"]});let a={operacion:"DESCARGO PDF",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"PACIENTE"};this._bitacora.crear(a).subscribe(c=>c)}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(p),e.Y36(C.uw),e.Y36(g.U),e.Y36(b.T),e.Y36(S.ye),e.Y36(_.F0))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-pacientes"]],decls:19,vars:8,consts:[[1,"col-lg-6"],["aria-label","breadcrumb"],[1,"text"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],["style","display: flex; align-items: center; justify-content: center;",4,"ngIf"],[4,"ngIf"],[2,"display","flex","align-items","center","justify-content","center"],[1,"row"],[1,"col-md-6"],["mat-raised-button","","type","button","color","warn",1,"m-1",3,"click"],["mat-raised-button","","color","accent","class","m-1 botonnegro",3,"click",4,"ngIf"],[1,"col-md-6","d-flex","justify-content-end"],["appearance","outline"],["matInput","","placeholder","Buscar",3,"ngModel","ngModelChange","change"],["matSuffix",""],["class","mt-4",4,"ngIf"],["mat-raised-button","","color","accent",1,"m-1","botonnegro",3,"click"],["role","alert",1,"alert","alert-warning","text-center"],[1,"mt-4"],["id","reporte","class","table-responsive",4,"ngIf"],["id","reporte",1,"table-responsive"],["role","table",1,"table","bordeTabla","tablep"],[1,"theadp"],[1,"botonnegro","text-center"],["scope","col","role","columnheader",1,"thp"],["id","d","class","thp","scope","col","role","columnheader",4,"ngIf"],["role","rowgroup",1,"tbodyp"],["class","text-center trp","role","row",4,"ngFor","ngForOf"],["id","d",3,"length","pageSize","pageSizeOptions","page"],["id","d","scope","col","role","columnheader",1,"thp"],["role","row",1,"text-center","trp"],["role","cell","data-title","Nombre",1,"tdp"],["id","d","role","cell","data-title","Opciones","class","tdp",4,"ngIf"],["id","d","role","cell","data-title","Opciones",1,"tdp"],[1,"text-center"],["mat-mini-fab","","aria-label","Example icon-button with a menu",1,"yellowButton",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","aria-label","Example icon-button with a menu",3,"click"],["class","botonnegro","mat-mini-fab","",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],["mat-mini-fab","",1,"botonnegro",3,"click"],["mat-mini-fab","","color","warn",3,"click"]],template:function(o,i){1&o&&(e.TgZ(0,"div")(1,"div",0)(2,"nav",1)(3,"h1")(4,"strong",2),e._uU(5,"Pacientes"),e.qZA()(),e.TgZ(6,"ol",3)(7,"li",4)(8,"a",5),e._uU(9,"Inicio"),e.qZA()(),e.TgZ(10,"li",6)(11,"a"),e._uU(12,"Pacientes"),e.qZA()()()()(),e.TgZ(13,"mat-card")(14,"mat-card-content"),e.YNc(15,z,2,0,"div",7),e.ALo(16,"async"),e.YNc(17,re,19,12,"section",8),e.ALo(18,"async"),e.qZA()()()),2&o&&(e.xp6(8),e.Q6J("routerLink",e.DdM(7,se)),e.xp6(7),e.Q6J("ngIf",e.lcZ(16,3,i._service.responseCargando$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(18,5,i._service.responseCargando$)))},dependencies:[d.sg,d.O5,_.rH,R.Hw,O.lW,O.nh,u.a8,u.dn,x.Nt,h.KE,h.hX,h.R9,J.Ou,S.NW,w.VK,w.OP,w.p6,r.Fj,r.JJ,r.On,d.Ov,d.OU]})}return n})();var $=l(35),Y=l(6116);let le=(()=>{class n{constructor(t,o){this._http=t,this._globals=o,this.estado=new Z.X([]),this.response$=this.estado.asObservable(),this.permiso=new Z.X([]),this.responsepermiso$=this.permiso.asObservable(),this.Cargando$=new Z.X(!1),this.responseCargando$=this.Cargando$.asObservable(),this.url=`${f.N.url}estadocita`,this.register=new r.cw({ID_ESTADO_CITA:new r.NI(null),NOMBRE:new r.NI("",r.kI.required)})}inicializarForm(){this.register.setValue({ID_ESTADO_CITA:null,NOMBRE:""})}popForm(t){this.register.setValue(t)}mostrar(t=""){return this.Cargando$.next(!0),this._globals.obtener("estadocita?busqueda="+t).pipe((0,v.b)(i=>{this.Cargando$.next(!1),this.estado.next(i)})).subscribe()}mostrarpermiso(t,o){return this._globals.obtener(`permisossistemaid/${t}/${o}`).pipe((0,v.b)(a=>{this.permiso.next(a)})).subscribe()}crear(t){return this._http.post(this.url,t).pipe((0,I.U)(o=>o))}actualizar(t){return this._http.put(this.url,t).pipe((0,I.U)(o=>o))}eliminar(t){return this._http.delete(this.url+"/"+t)}static#e=this.\u0275fac=function(o){return new(o||n)(e.LFG(D.eN),e.LFG(g.U))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function de(n,s){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.COD_PERSONA),e.xp6(1),e.lnq(" ",t.PRIMER_NOMBRE," ",t.PRIMER_APELLIDO," - ",t.DNI," ")}}function me(n,s){1&n&&(e.TgZ(0,"mat-hint",17)(1,"strong",18),e._uU(2,"Campo requerido!"),e.qZA()())}function pe(n,s){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.ID_ESTADO_CITA),e.xp6(1),e.hij(" ",t.NOMBRE," ")}}function ue(n,s){1&n&&(e.TgZ(0,"mat-hint",17)(1,"strong",18),e._uU(2,"Campo requerido!"),e.qZA()())}let _e=(()=>{class n{constructor(t,o,i,a,c,m,A){this._service=t,this.dialogref=o,this._sweet=i,this._bitacora=a,this._paciente=c,this._medico=m,this._estado=A}ngOnInit(){this._paciente.mostrar(),this._medico.mostrar(),this._estado.mostrar()}clear(){this._service.register.reset(),this._service.inicializarForm()}cerrarmodal(){this.dialogref.close()}get validateOpinion(){return this._service.register.controls}guardar(){if(this._service.register.valid)if(this._service.register.get("ID_CITA")?.value){let t=this._service.register.value;this._service.actualizar({medico:this._service.idmedico,paciente:t.ID_PACIENTE,estado:t.ID_ESTADO_CITA,motivo:t.MOTIVO,observacion:t.OBSERVACION,fecha:t.FECHA_CITA,especialidad:this._service.idespecialidad,id:t.ID_CITA}).subscribe(i=>{if(i.ok){this._sweet.mensajeSimple("Actualizado correctamente","CITA","success");let a={operacion:"ACTUALIZO",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"CITA"};this._bitacora.crear(a).subscribe()}else this._sweet.mensajeSimple("Ocurrio un error","CITA","warning");this._service.mostrar(),this.cerrarmodal()})}else{let t=this._service.register.value;this._service.crear({medico:this._service.idmedico,paciente:t.ID_PACIENTE,estado:t.ID_ESTADO_CITA,motivo:t.MOTIVO,observacion:t.OBSERVACION,fecha:t.FECHA_CITA,especialidad:this._service.idespecialidad}).subscribe(i=>{if(console.log(i),i.ok){this._sweet.mensajeSimple("Creado correctamente","CITA","success");let a={operacion:"INSERTO",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"CITA"};this._bitacora.crear(a).subscribe(),this._service.mostrarfiltro(this._service.idmedico,this._service.idespecialidad)}else this._sweet.mensajeSimple(`${i.data}`,"CITA","warning")}),this.cerrarmodal()}}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36($.P),e.Y36(C.so),e.Y36(b.T),e.Y36(g.U),e.Y36(p),e.Y36(Y.D),e.Y36(le))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-citas-insert-update"]],decls:36,vars:12,consts:[[1,"p-3"],[1,"text-center"],[3,"formGroup"],[1,"row"],[1,"col-lg-12"],["appearance","outline"],["formControlName","ID_PACIENTE"],[3,"value",4,"ngFor","ngForOf"],["align","start",4,"ngIf"],[1,"col-lg-6"],["formControlName","ID_ESTADO_CITA"],["type","datetime-local","name","","id","","formControlName","FECHA_CITA",1,"form-control"],["appearance","outline",1,"example-full-width"],["formControlName","MOTIVO","matInput","","placeholder","Ingrese  motivo"],["mat-raised-button","","color","primary",1,"m-2","botonnegro",3,"disabled","click"],["mat-raised-button","","color","warn",1,"m-2",3,"click"],[3,"value"],["align","start"],[1,"text-danger"]],template:function(o,i){if(1&o&&(e.TgZ(0,"mat-card",0)(1,"mat-card-title")(2,"h4",1)(3,"strong"),e._uU(4),e.qZA()()(),e.TgZ(5,"mat-card-subtitle")(6,"form",2)(7,"div",3)(8,"div",4)(9,"mat-form-field",5)(10,"mat-label"),e._uU(11,"Paciente"),e.qZA(),e.TgZ(12,"mat-select",6),e.YNc(13,de,2,4,"mat-option",7),e.ALo(14,"async"),e.YNc(15,me,3,0,"mat-hint",8),e.qZA()()(),e.TgZ(16,"div",9)(17,"mat-form-field",5)(18,"mat-label"),e._uU(19,"Estado"),e.qZA(),e.TgZ(20,"mat-select",10),e.YNc(21,pe,2,2,"mat-option",7),e.ALo(22,"async"),e.YNc(23,ue,3,0,"mat-hint",8),e.qZA()()(),e.TgZ(24,"div",9),e._UZ(25,"input",11),e.qZA(),e.TgZ(26,"div",4)(27,"mat-form-field",12)(28,"mat-label"),e._uU(29,"Motivo"),e.qZA(),e._UZ(30,"textarea",13),e.qZA()()()()(),e.TgZ(31,"mat-card-actions")(32,"button",14),e.NdJ("click",function(){return i.guardar()}),e._uU(33),e.qZA(),e.TgZ(34,"button",15),e.NdJ("click",function(){return i.cerrarmodal()}),e._uU(35,"Cerrar"),e.qZA()()()),2&o){let a,c;e.xp6(4),e.Oqu(null!=(a=i._service.register.get("ID_CITA"))&&a.value?"ACTUALIZAR":"CREAR"),e.xp6(2),e.Q6J("formGroup",i._service.register),e.xp6(7),e.Q6J("ngForOf",e.lcZ(14,8,i._paciente.response$)),e.xp6(2),e.Q6J("ngIf",i.validateOpinion.ID_PACIENTE.hasError("required")),e.xp6(6),e.Q6J("ngForOf",e.lcZ(22,10,i._estado.response$)),e.xp6(2),e.Q6J("ngIf",i.validateOpinion.ID_ESTADO_CITA.hasError("required")),e.xp6(9),e.Q6J("disabled",!i._service.register),e.xp6(1),e.Oqu(null!=(c=i._service.register.get("ID_CITA"))&&c.value?"Actualizar":"Crear")}},dependencies:[d.sg,d.O5,O.lW,u.a8,u.hq,u.$j,u.n5,x.Nt,h.KE,h.hX,h.bx,M.gD,P.ey,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,d.Ov],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return n})();var ge=l(931);function he(n,s){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.ID_ESPECIALIDAD),e.xp6(1),e.hij(" ",t.NOMBRE," ")}}function fe(n,s){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.COD_PERSONA),e.xp6(1),e.lnq(" ",t.PRIMER_NOMBRE," ",t.PRIMER_APELLIDO," - ",t.DNI," ")}}function ve(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.crear())}),e.TgZ(1,"mat-icon"),e._uU(2," account_circle "),e.qZA(),e._uU(3," Agregar "),e.qZA()}}function be(n,s){1&n&&(e.TgZ(0,"div",18),e._UZ(1,"mat-spinner"),e.qZA())}function Ce(n,s){1&n&&(e.TgZ(0,"div")(1,"div",24),e._uU(2," Seleccione el medico y su especialidad "),e.qZA()())}function Ze(n,s){1&n&&(e.TgZ(0,"th",36),e._uU(1,"Opciones"),e.qZA())}function Ae(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2).$implicit,a=e.oxw(4);return e.KtG(a.eliminar(i.ID_CITA))}),e.TgZ(1,"mat-icon"),e._uU(2,"delete_forever"),e.qZA()()}}function Te(n,s){if(1&n&&(e.TgZ(0,"td",40)(1,"div",41)(2,"button",42)(3,"mat-icon"),e._uU(4,"medication"),e.qZA()(),e.YNc(5,Ae,3,0,"button",43),e.qZA()()),2&n){const t=e.oxw().$implicit,o=e.oxw(4);e.xp6(2),e.Q6J("queryParams",t),e.xp6(3),e.Q6J("ngIf","SI"==(null==o.permisos?null:o.permisos.ELIMINAR))}}function Ie(n,s){if(1&n&&(e.TgZ(0,"tr",37)(1,"td",38),e._uU(2),e.qZA(),e.TgZ(3,"td",38),e._uU(4),e.qZA(),e.TgZ(5,"td",38),e._uU(6),e.qZA(),e.TgZ(7,"td",38),e._uU(8),e.qZA(),e.TgZ(9,"td",38),e._uU(10),e.ALo(11,"date"),e.qZA(),e.YNc(12,Te,6,2,"td",39),e.qZA()),2&n){const t=s.$implicit,o=s.index,i=e.oxw(4);e.uIk("data-index",o),e.xp6(2),e.hij(" ",o+1,""),e.xp6(2),e.AsE(" ",t.PRIMER_NOMBRE," ",t.PRIMER_APELLIDO,""),e.xp6(2),e.AsE(" ",t.MEDICO_NOMBRE," ",t.MEDICO_APELLIDO,""),e.xp6(2),e.hij(" ",t.MOTIVO,""),e.xp6(2),e.hij(" ",e.xi3(11,9,t.FECHA_CITA,"medium"),""),e.xp6(2),e.Q6J("ngIf","SI"==(null==i.permisos?null:i.permisos.ACTUALIZAR)||"SI"==(null==i.permisos?null:i.permisos.ELIMINAR))}}const Oe=function(n){return[25,50,100,n]};function Ee(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"table",28)(2,"thead",29)(3,"tr",30)(4,"th",31),e._uU(5,"Id"),e.qZA(),e.TgZ(6,"th",31),e._uU(7,"Paciente"),e.qZA(),e.TgZ(8,"th",31),e._uU(9,"Medico"),e.qZA(),e.TgZ(10,"th",31),e._uU(11,"Motivo"),e.qZA(),e.TgZ(12,"th",31),e._uU(13,"Fecha cita"),e.qZA(),e.YNc(14,Ze,2,0,"th",32),e.qZA()(),e.TgZ(15,"tbody",33),e.YNc(16,Ie,13,12,"tr",34),e.ALo(17,"slice"),e.ALo(18,"async"),e.qZA()(),e.TgZ(19,"mat-paginator",35),e.NdJ("page",function(i){e.CHM(t);const a=e.oxw(3);return e.KtG(a.cambioPagina(i))}),e.ALo(20,"async"),e.ALo(21,"async"),e.qZA()()}if(2&n){const t=e.oxw(3);let o,i;e.xp6(14),e.Q6J("ngIf","SI"==(null==t.permisos?null:t.permisos.ACTUALIZAR)||"SI"==(null==t.permisos?null:t.permisos.ELIMINAR)),e.xp6(2),e.Q6J("ngForOf",e.Dn7(17,5,e.lcZ(18,9,t._service.response$),t.d,t.h)),e.xp6(3),e.Q6J("length",null==(o=e.lcZ(20,11,t._service.response$))?null:o.length)("pageSize",t.pageSize)("pageSizeOptions",e.VKq(15,Oe,null==(i=e.lcZ(21,13,t._service.response$))?null:i.length))}}function Ne(n,s){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,Ee,22,17,"div",26),e.ALo(2,"async"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",0!=e.lcZ(2,1,t._service.response$).length)}}function De(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"section")(1,"div",7),e._UZ(2,"div",19),e.TgZ(3,"div",20)(4,"mat-form-field",9)(5,"mat-label"),e._uU(6,"Busqueda"),e.qZA(),e.TgZ(7,"input",21),e.NdJ("ngModelChange",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.buscar=i)})("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.busqueda())}),e.qZA(),e.TgZ(8,"mat-icon",22),e._uU(9,"search"),e.qZA()()()(),e.YNc(10,Ce,3,0,"div",15),e.ALo(11,"async"),e.ALo(12,"async"),e.YNc(13,Ne,3,3,"div",23),e.ALo(14,"async"),e.ALo(15,"async"),e.qZA()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngModel",t.buscar),e.xp6(3),e.Q6J("ngIf",0==e.lcZ(11,3,t._service.response$).length&&!e.lcZ(12,5,t._service.responseCargando$)),e.xp6(3),e.Q6J("ngIf",!e.lcZ(14,7,t._service.responseCargando$)&&0!=e.lcZ(15,9,t._service.response$).length)}}const xe=function(){return["/dashboard"]};let Ue=(()=>{class n{constructor(t,o,i,a,c,m,A){this._service=t,this._dialog=o,this._bitacora=i,this._sweet=a,this.paginator=c,this._especialidad=m,this._medico=A,this.pageSize=25,this.pageSizeOptions=[25,50,100],this.d=0,this.h=25,this.buscar="",this.campo=["TIPO"],this.reporte=!1,this.data=[],this.item=[],this.permisos=[],c.itemsPerPageLabel="Cantidad por p\xe1gina",this._especialidad.mostrar(""),this._service.mostrarpermiso(localStorage.getItem("rol"),14),this._service.responsepermiso$.subscribe(ut=>{this.permisos=ut[0]})}ngOnInit(){this.mostrardta(2)}busqueda(){this._service.mostrarfiltro(11,1,this.buscar)}mostrar(t){this._service.idespecialidad=t.value,this._medico.mostraridespe(t.value)}mostrardta(t){this._service.idmedico=t.value,this._service.mostrarfiltro(this._service.idespecialidad,t.value)}ngOnDestroy(){}cambioPagina(t){this.d=t.pageIndex*t.pageSize,this.h=this.d+t.pageSize}crear(){console.log(this.especialidad),null!=this.especialidad&&null!=this.medico?(this._service.inicializarForm(),this._dialog.open(_e,{width:"40%",disableClose:!0,autoFocus:!0})):this._sweet.mensajeSimple("Cita","Por favor seleccione los campos","error")}eliminar(t){this._sweet.mensajeConConfirmacion("Eliminar","\xbfDesea eliminar el registro?","warning").then(o=>{console.log(o),o&&this._service.eliminar(t).subscribe(i=>{if(this._service.mostrar(this.buscar),i.ok){let a={operacion:"ELIMINO",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"CITAS"};this._bitacora.crear(a).subscribe(),this._sweet.mensajeSimple("Eliminado correctamente","CITA","success")}else console.log(i),this._sweet.mensajeSimple("No se puede eliminar","CITA","error")})})}impo(){let i=`\n  <div id="otra">\n  <img src="../../../assets/logo.jpg" alt="">\n  <div class="parraf">\n  <h5></h5>\n  <h5>Listado de Pacientes</h5>\n  <h6>${(new Date).toLocaleString()}</h6>\n  </div>\n  </div><br>`;T({printable:"reporte2",type:"html",header:i,css:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",style:"@page {   margin-left: 10%; } #otra {display: block  } #otra img { max-width: 140px;} .parraf { width: 100%; padding: 0px; text-align: center;  max-height: 80px, margin-left: 90%; }",scanStyles:!1,documentTitle:"Pacientes",font_size:"10pt",ignoreElements:["d"]});let a={operacion:"DESCARGO PDF",fecha:new Date,idusuario:localStorage.getItem("user"),tabla:"PACIENTES"};this._bitacora.crear(a).subscribe(c=>c)}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36($.P),e.Y36(C.uw),e.Y36(g.U),e.Y36(b.T),e.Y36(S.ye),e.Y36(ge.I),e.Y36(Y.D))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-citas"]],decls:42,vars:17,consts:[[1,"col-lg-6"],["aria-label","breadcrumb"],[1,"text"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"row"],[1,"col-md-4"],["appearance","outline"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent","class","m-1 botonnegro",3,"click",4,"ngIf"],["style","display: flex; align-items: center; justify-content: center;",4,"ngIf"],[4,"ngIf"],[3,"value"],["mat-raised-button","","color","accent",1,"m-1","botonnegro",3,"click"],[2,"display","flex","align-items","center","justify-content","center"],[1,"col-md-6"],[1,"col-md-6","d-flex","justify-content-end"],["matInput","","placeholder","Buscar",3,"ngModel","ngModelChange","change"],["matSuffix",""],["class","mt-4",4,"ngIf"],["role","alert",1,"alert","alert-warning","text-center"],[1,"mt-4"],["id","reporte","class","table-responsive",4,"ngIf"],["id","reporte",1,"table-responsive"],["role","table",1,"table","bordeTabla","tablep"],[1,"theadp"],[1,"botonnegro","text-center"],["scope","col","role","columnheader",1,"thp"],["id","d","class","thp","scope","col","role","columnheader",4,"ngIf"],["role","rowgroup",1,"tbodyp"],["class","text-center trp","role","row",4,"ngFor","ngForOf"],["id","d",3,"length","pageSize","pageSizeOptions","page"],["id","d","scope","col","role","columnheader",1,"thp"],["role","row",1,"text-center","trp"],["role","cell","data-title","Nombre",1,"tdp"],["id","d","role","cell","data-title","Opciones","class","tdp",4,"ngIf"],["id","d","role","cell","data-title","Opciones",1,"tdp"],[1,"text-center"],["title","Tratamiento","mat-mini-fab","","routerLink","/pacientes/tratamiento",1,"botonnegro",3,"queryParams"],["mat-mini-fab","","color","warn",3,"click",4,"ngIf"],["mat-mini-fab","","color","warn",3,"click"]],template:function(o,i){1&o&&(e.TgZ(0,"div")(1,"div",0)(2,"nav",1)(3,"h1")(4,"strong",2),e._uU(5,"Citas medicas"),e.qZA()(),e.TgZ(6,"ol",3)(7,"li",4)(8,"a",5),e._uU(9,"Inicio"),e.qZA()(),e.TgZ(10,"li",6)(11,"a"),e._uU(12,"Citas"),e.qZA()()()()(),e.TgZ(13,"mat-card")(14,"mat-card-content")(15,"h5")(16,"strong"),e._uU(17,"Citas medicas"),e.qZA()(),e.TgZ(18,"div",7)(19,"div",8)(20,"mat-form-field",9)(21,"mat-label"),e._uU(22,"Especialidad"),e.qZA(),e.TgZ(23,"mat-select",10),e.NdJ("ngModelChange",function(c){return i.especialidad=c})("selectionChange",function(c){return i.mostrar(c)}),e.YNc(24,he,2,2,"mat-option",11),e.ALo(25,"async"),e.qZA()()(),e.TgZ(26,"div",8)(27,"mat-form-field",9)(28,"mat-label"),e._uU(29,"Medico"),e.qZA(),e.TgZ(30,"mat-select",12),e.NdJ("ngModelChange",function(c){return i.medico=c}),e.YNc(31,fe,2,4,"mat-option",11),e.ALo(32,"async"),e.qZA()()(),e.TgZ(33,"div",8),e.YNc(34,ve,4,0,"button",13),e.qZA()()()(),e._UZ(35,"br"),e.TgZ(36,"mat-card")(37,"mat-card-content"),e.YNc(38,be,2,0,"div",14),e.ALo(39,"async"),e.YNc(40,De,16,11,"section",15),e.ALo(41,"async"),e.qZA()()()),2&o&&(e.xp6(8),e.Q6J("routerLink",e.DdM(16,xe)),e.xp6(15),e.Q6J("ngModel",i.especialidad),e.xp6(1),e.Q6J("ngForOf",e.lcZ(25,8,i._especialidad.response$)),e.xp6(6),e.Q6J("ngModel",i.medico),e.xp6(1),e.Q6J("ngForOf",e.lcZ(32,10,i._medico.responseM$)),e.xp6(3),e.Q6J("ngIf","SI"==(null==i.permisos?null:i.permisos.INSERTAR)),e.xp6(4),e.Q6J("ngIf",e.lcZ(39,12,i._service.responseCargando$)),e.xp6(2),e.Q6J("ngIf",!e.lcZ(41,14,i._service.responseCargando$)))},dependencies:[d.sg,d.O5,_.rH,R.Hw,O.lW,O.nh,u.a8,u.dn,x.Nt,h.KE,h.hX,h.R9,J.Ou,S.NW,M.gD,P.ey,r.Fj,r.JJ,r.On,d.Ov,d.OU,d.uU],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return n})();var y=l(5001),Q=l(5986),F=l(7466);function qe(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",0)(1,"mat-radio-group",15)(2,"label"),e._uU(3),e.ALo(4,"lowercase"),e.qZA(),e.TgZ(5,"mat-radio-button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.toco(1,a.ID_CUESTIONARIO))}),e._uU(6,"SI"),e.qZA(),e.TgZ(7,"mat-radio-button",17),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.toco(2,a.ID_CUESTIONARIO))}),e._uU(8,"NO"),e.qZA()()()}if(2&n){const t=s.$implicit;e.xp6(3),e.Oqu(e.lcZ(4,1,null==t?null:t.NOMBRE))}}function Se(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"mat-radio-group",18)(2,"mat-checkbox",19),e.NdJ("click",function(){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.tocoe(1,a.ID_ENFERMEDAD))}),e._uU(3),e.qZA()()()}if(2&n){const t=s.$implicit;e.xp6(3),e.Oqu(null==t?null:t.NOMBRE)}}const Me=function(){return["/dashboard"]};let Pe=(()=>{class n{constructor(t,o,i,a,c){this.http=t,this.query=o,this._swwet=i,this._route=a,this.pacienteService=c,this.cuestio=[],this.cuestionario=[],this.enfermedad=[],this.enfermedades=[],this.fecha=new Date,this.data=[],this.query.queryParams.subscribe(m=>{this.data=m})}ngOnInit(){0===this.pacienteService.selectedIdPaciente?this._route.navigateByUrl("/pacientes/pacientes"):(this.mostrarCuest(),this.mostrarEnfer(),this.getAnswers())}ngOnDestroy(){this.pacienteService.selectedIdPaciente=0,this.pacienteService.selectedNamePaciente=""}toco(t,o){this.cuestionario.push({id:o,value:t,paciente:this.pacienteService.selectedIdPaciente}),this.cuestionario=this.cuestionario.filter(i=>i.id!=o),this.cuestionario.push({id:o,value:t,paciente:this.pacienteService.selectedIdPaciente})}tocoe(t,o){let i=this.enfermedades.findIndex(a=>a.id===o);console.log(i),console.log(t),-1!==i?this.enfermedades.splice(i,1):-1===i&&this.enfermedades.push({id:o,value:t,paciente:this.pacienteService.selectedIdPaciente})}guardarCuest(){this.cuestionario.length>=this.cuestio.length?y.Confirm.show("Guardar","Desea guardar","Si","No",()=>{this.http.post(f.N.url+"cuestionario",{idPaciente:this.pacienteService.selectedIdPaciente,cuest:this.cuestionario,enfer:this.enfermedades}).subscribe(o=>{o.ok?(y.Notify.success("Guardado correctamente"),this._route.navigateByUrl("pacientes/pacientes")):y.Notify.warning("Ocurrio un error, comuniquese con el administrador"),console.log(o)})}):this._swwet.mensajeSimple("Debe responder todo el cuestionario","PACIENTE","info")}getAnswers(){this.http.get(f.N.url+"getAnswers/"+this.pacienteService.selectedIdPaciente).subscribe(o=>{console.log(o)})}mostrarCuest(){this.http.get(f.N.url+"cuestionario").subscribe(t=>{this.cuestio=t.data})}mostrarEnfer(){this.http.get(f.N.url+"enfermedad").subscribe(t=>{this.enfermedad=t.data})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(D.eN),e.Y36(_.gz),e.Y36(b.T),e.Y36(_.F0),e.Y36(p))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-tratamiento"]],decls:44,vars:9,consts:[[1,"col-lg-6"],["aria-label","breadcrumb"],[1,"text"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"text-center"],[1,"row"],[1,"col-lg-4"],[1,"row","container-fluid"],["class","col-lg-6",4,"ngFor","ngForOf"],["class","col-lg-4",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[1,"btn","botonnegro",3,"click"],["aria-label","Select an option"],["value","1",3,"click"],["value","2",3,"click"],["aria-label","example-section"],[1,"example-margin",3,"click"]],template:function(o,i){1&o&&(e.TgZ(0,"div")(1,"div",0)(2,"nav",1)(3,"h1")(4,"strong",2),e._uU(5,"Exploracion del paciente"),e.qZA()(),e.TgZ(6,"ol",3)(7,"li",4)(8,"a",5),e._uU(9,"Inicio"),e.qZA()(),e.TgZ(10,"li",6)(11,"a"),e._uU(12,"Exploracion del paciente"),e.qZA()()()()(),e.TgZ(13,"mat-card")(14,"mat-card-content")(15,"h2",7)(16,"strong"),e._uU(17,"Exploracion del paciente"),e.qZA()(),e.TgZ(18,"h4",7)(19,"strong"),e._uU(20,"Fecha:"),e.qZA(),e._uU(21),e.ALo(22,"date"),e.qZA(),e.TgZ(23,"div",8)(24,"div",9)(25,"h4")(26,"strong"),e._uU(27,"Nombre paciente: "),e.qZA(),e._uU(28),e.qZA()()(),e._UZ(29,"br"),e.TgZ(30,"h3")(31,"strong"),e._uU(32,"Cuestionario:"),e.qZA()(),e.TgZ(33,"div",10),e.YNc(34,qe,9,3,"div",11),e.qZA(),e._UZ(35,"br"),e.TgZ(36,"h3")(37,"strong"),e._uU(38,"Enfermedades que el paciente reporta:"),e.qZA()(),e.TgZ(39,"div",10),e.YNc(40,Se,4,1,"div",12),e.qZA(),e.TgZ(41,"div",13)(42,"button",14),e.NdJ("click",function(){return i.guardarCuest()}),e._uU(43,"Guardar"),e.qZA()()()()()),2&o&&(e.xp6(8),e.Q6J("routerLink",e.DdM(8,Me)),e.xp6(13),e.hij(" ",e.xi3(22,5,i.fecha,"d/M/yy"),""),e.xp6(7),e.Oqu(i.pacienteService.selectedNamePaciente),e.xp6(6),e.Q6J("ngForOf",i.cuestio),e.xp6(6),e.Q6J("ngForOf",i.enfermedad))},dependencies:[d.sg,_.rH,u.a8,u.dn,Q.oG,F.VQ,F.U0,d.i8,d.uU],styles:[".desabilitado[_ngcontent-%COMP%]{fill:#000;stroke:#000;stroke-width:1px;opacity:.3}.marcadoAzul[_ngcontent-%COMP%]{fill:none;stroke:#00f;stroke-width:7px}.marcadoVerde[_ngcontent-%COMP%]{fill:green;stroke:#000;stroke-width:1px}.marcadoMorado[_ngcontent-%COMP%]{fill:#c6c;stroke:#000;stroke-width:1px}.marcadoMarron[_ngcontent-%COMP%]{fill:#c60;stroke:#000;stroke-width:1px}.marcadoAmarillo[_ngcontent-%COMP%]{fill:#ff0;stroke:#000;stroke-width:1px}.marcadoRojo[_ngcontent-%COMP%]{fill:red;stroke:#000;stroke-width:1px}.marcadoNaranja[_ngcontent-%COMP%]{fill:orange;stroke:#000;stroke-width:1px}.marcadoTomate[_ngcontent-%COMP%]{fill:tomato;stroke:#000;stroke-width:1px}.diente[_ngcontent-%COMP%]{fill-opacity:0;stroke:#000;stroke-width:1px}.ausente[_ngcontent-%COMP%], .corona[_ngcontent-%COMP%], .endodoncia[_ngcontent-%COMP%], .implante[_ngcontent-%COMP%]{fill:none;opacity:0}mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return n})();var B=l(8645),E=l(6306),N=l(2096),Le=l(553);let U=(()=>{class n{constructor(t){this.http=t,this.odontograma=[],this.odontogramaSubject=new B.x,this.odontograma$=this.odontogramaSubject.asObservable(),this.tratamientos=[],this.tratamientosSubject=new B.x,this.tratamientos$=this.tratamientosSubject.asObservable(),this.estadosDientes=[],this.historial=[],this.url=`${Le.N.url}`}getTratamientos(){return this.http.get(`${this.url}tratamientos`).pipe((0,v.b)(o=>{this.tratamientos=o.tratamientos,this.tratamientosSubject.next(this.tratamientos)}),(0,E.K)(o=>(0,N.of)(o.error.msg)))}getEstadosDientes(){return this.http.get(`${this.url}estado_diente`).pipe((0,v.b)(o=>{this.estadosDientes=o.estado}),(0,E.K)(o=>(0,N.of)(o.error.msg)))}getOdontograma(t){return this.http.get(`${this.url}diente/odontograma/${t}`).pipe((0,v.b)(i=>{this.odontograma=i.dientes,this.cargarOdontograma()}),(0,E.K)(i=>(0,N.of)(i.error.msg)))}cargarOdontograma(){this.odontogramaSubject.next(this.odontograma)}getHistorialDiente(t,o,i){return this.http.get(`${this.url}diente/historial/${t}/${o}/${i}`).pipe((0,v.b)(c=>this.historial=c.historial),(0,E.K)(c=>(0,N.of)(c.error.msg)))}getPresupuesto(t){return this.http.get(`${this.url}odontograma/presupuesto/${t}`).pipe((0,v.b)(i=>console.log(i)),(0,E.K)(i=>(0,N.of)(i.error.msg)))}postDienteOdontograma(t,o,i,a){return this.http.post(`${this.url}odontograma`,{lado:this.ladoSeleccionadoNombre,numeroDiente:this.numeroDienteSeleccionado,idEstado:o,observacion:i,tratamiento:a,idPaciente:t}).pipe((0,E.K)(A=>(0,N.of)(A.error.msg)))}static#e=this.\u0275fac=function(o){return new(o||n)(e.LFG(D.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var j=l(9488);function Re(n,s){if(1&n&&(e.TgZ(0,"tr",7)(1,"td",8),e._uU(2),e.ALo(3,"date"),e.qZA(),e.TgZ(4,"td",8),e._uU(5),e.qZA(),e.TgZ(6,"td",8),e._uU(7),e.qZA(),e.TgZ(8,"td",8),e._uU(9),e.qZA()()),2&n){const t=s.$implicit;e.xp6(2),e.Oqu(e.lcZ(3,4,t.FECHA)),e.xp6(3),e.Oqu(t.ESTADO),e.xp6(2),e.Oqu(t.OBSERVACION),e.xp6(2),e.Oqu(t.TRATAMIENTO)}}let we=(()=>{class n{constructor(t){this.odontologiaService=t}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(U))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal-historial-diente"]],decls:14,vars:1,consts:[["id","reporte",1,"table-responsive"],["role","table",1,"table","bordeTabla","tablep"],[1,"theadp"],[1,"botonnegro","text-center"],["scope","col","role","columnheader",1,"thp"],["role","rowgroup",1,"tbodyp"],["class","text-center trp","role","row",4,"ngFor","ngForOf"],["role","row",1,"text-center","trp"],["role","cell","data-title","Nombre",1,"tdp"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead",2)(3,"tr",3)(4,"th",4),e._uU(5,"Fecha"),e.qZA(),e.TgZ(6,"th",4),e._uU(7,"Estado"),e.qZA(),e.TgZ(8,"th",4),e._uU(9,"Observaci\xf3n"),e.qZA(),e.TgZ(10,"th",4),e._uU(11,"Tratamiento"),e.qZA()()(),e.TgZ(12,"tbody",5),e.YNc(13,Re,10,6,"tr",6),e.qZA()()()),2&o&&(e.xp6(13),e.Q6J("ngForOf",i.odontologiaService.historial))},dependencies:[d.sg,d.uU]})}return n})();const ye=["close"];function Fe(n,s){if(1&n&&(e.TgZ(0,"option",19),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.ID_TRATAMIENTO),e.xp6(1),e.Oqu(t.NOMBRE)}}function ke(n,s){if(1&n&&(e.TgZ(0,"mat-button-toggle",19),e._uU(1),e._UZ(2,"mat-icon",20),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij("",t.NOMBRE," "),e.xp6(1),e.Q2q("style","color:",t.COLOR,"",e.Ckj)}}function Je(n,s){if(1&n&&(e.TgZ(0,"div",12)(1,"label",13),e._uU(2,"Tratamiento:"),e.qZA(),e.TgZ(3,"select",14),e.YNc(4,Fe,2,2,"option",15),e.qZA(),e.TgZ(5,"label",16),e._uU(6,"Observaci\xf3n (Opcional):"),e.qZA(),e._UZ(7,"textarea",17),e.TgZ(8,"mat-button-toggle-group",18),e.YNc(9,ke,3,3,"mat-button-toggle",15),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngForOf",t.odontologiaService.tratamientos),e.xp6(5),e.Q6J("ngForOf",t.odontologiaService.estadosDientes)}}function $e(n,s){1&n&&(e.TgZ(0,"div",12),e._UZ(1,"app-modal-historial-diente"),e.qZA())}let Ye=(()=>{class n{constructor(t,o,i,a){this.odontologiaService=t,this.fb=o,this._sweet=i,this.pacienteService=a,this.onSubmit=new e.vpe,this.viewHistory=!1,this.tratamientos=[],this.estadosDientes=[],this.formularioOdontograma=this.fb.group({tratamiento:["",[r.kI.required]],estado:["",[r.kI.required]],observacion:["",[r.kI.maxLength(100)]]})}ngOnInit(){}guardarObservacionDiente(){this.onSubmit.emit(this.formularioOdontograma.value),this.formularioOdontograma.reset(),this.closeModal.nativeElement.click()}openHistory(){console.log(this.odontologiaService.idDienteSeleccionado," ",this.odontologiaService.ladoSeleccionadoNombre," ",this.odontologiaService.numeroDienteSeleccionado," ",this.odontologiaService.numeroLadoSeleccionadoNombre," "),this.viewHistory=!this.viewHistory}evitarCerrar(t){console.log(t),t.stopPropagation(),t.preventDefault()}guardarEnOdontrograma(){const{estado:t,tratamiento:o,observacion:i}=this.formularioOdontograma.value;this.odontologiaService.postDienteOdontograma(this.pacienteService.selectedIdPaciente,t.ID_ESTADO,i,o).subscribe(c=>{c.ok?(this._sweet.mensajeSimple(c.msg,"Odontograma","success"),this.guardarObservacionDiente()):this._sweet.mensajeSimple(c.msg,"Odontograma","error")})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(U),e.Y36(r.qu),e.Y36(b.T),e.Y36(p))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal"]],viewQuery:function(o,i){if(1&o&&e.Gf(ye,5),2&o){let a;e.iGM(a=e.CRH())&&(i.closeModal=a.first)}},outputs:{onSubmit:"onSubmit"},decls:19,vars:11,consts:[["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[3,"formGroup","ngSubmit"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["close",""],["class","modal-body",4,"ngIf"],[1,"modal-footer","d-flex","justify-content-between"],["type","button",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"modal-body"],["for","form-select",1,"form-label"],["formControlName","tratamiento","aria-label","Default select example",1,"form-select"],[3,"value",4,"ngFor","ngForOf"],["for","form-select",1,"form-label","mt-3"],["placeholder","","formControlName","observacion","rows","2","id","floatingTextarea",1,"form-control"],["formControlName","estado","name","favoriteColor","aria-label","Favorite Color",1,"mt-3"],[3,"value"],["aria-hidden","false","aria-label","Example home icon","fontIcon","panorama_wide_angle_select"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div")(2,"form",1),e.NdJ("ngSubmit",function(){return i.guardarEnOdontrograma()}),e.TgZ(3,"div",2)(4,"div",3)(5,"h1",4),e._uU(6),e.qZA(),e._UZ(7,"button",5,6),e.qZA(),e.YNc(9,Je,10,2,"div",7),e.YNc(10,$e,2,0,"div",7),e.TgZ(11,"div",8)(12,"button",9),e.NdJ("click",function(){return i.openHistory()}),e._uU(13),e.qZA(),e.TgZ(14,"div")(15,"button",10),e._uU(16,"Cerrar"),e.qZA(),e.TgZ(17,"button",11),e._uU(18,"Guardar"),e.qZA()()()()()()()),2&o&&(e.xp6(1),e.Tol(i.viewHistory?"modal-dialog modal-xl modal-dialog-scrollable":"modal-dialog modal-lg"),e.xp6(1),e.Q6J("formGroup",i.formularioOdontograma),e.xp6(4),e.AsE("Diente N\xb0 ",i.odontologiaService.numeroDienteSeleccionado," - Lado: ",i.odontologiaService.ladoSeleccionadoNombre,""),e.xp6(3),e.Q6J("ngIf",!i.viewHistory),e.xp6(1),e.Q6J("ngIf",i.viewHistory),e.xp6(2),e.Tol(i.viewHistory?"btn btn-danger":"btn btn-warning"),e.xp6(1),e.Oqu(i.viewHistory?"Cerrar historial":"Mostrar historial"),e.xp6(4),e.Q6J("disabled",i.formularioOdontograma.invalid))},dependencies:[d.sg,d.O5,R.Hw,j.A9,j.Yi,r._Y,r.YN,r.Kr,r.Fj,r.EJ,r.JJ,r.JL,r.sg,r.u,we],styles:[".mat-button-toggle-group[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.mat-button-toggle[_ngcontent-%COMP%]{border:.5px solid #E0E0E0;flex-basis:25%}"]})}return n})(),Qe=(()=>{class n{constructor(t,o){this.odontologiaService=t,this.pacienteService=o,this.dienteCompleto=!1,this.historial=[],this.ladoDiente=[{lado:0,estado:"",observacion:"",tratamiento:0},{lado:1,estado:"",observacion:"",tratamiento:0},{lado:2,estado:"",observacion:"",tratamiento:0},{lado:3,estado:"",observacion:"",tratamiento:0},{lado:4,estado:"",observacion:"",tratamiento:0}]}ngOnInit(){this.odontologiaService.odontograma$.subscribe(t=>{t.forEach(o=>{if(o.INDICE_DIENTE==this.numeroDiente)switch(o.LADO_DIENTE){case"Arriba":this.ladoDiente[0].observacion=o.OBSERVACION,this.ladoDiente[0].observacion=o.ID_TRATAMIENTO,this.ladoDiente[0].observacion=o.ID_ESTADO,this.ladoDiente[0].estado={COLOR:o.COLOR,COMPLETO:o.COMPLETO,ID_ESTADO:o.ID_ESTADO,NOMBRE:o.NOMBRE},this.changeColor(this.numeroDiente+"1",this.ladoDiente[0]);break;case"Derecha":this.ladoDiente[1].observacion=o.OBSERVACION,this.ladoDiente[1].observacion=o.ID_TRATAMIENTO,this.ladoDiente[1].observacion=o.ID_ESTADO,this.ladoDiente[1].estado={COLOR:o.COLOR,COMPLETO:o.COMPLETO,ID_ESTADO:o.ID_ESTADO,NOMBRE:o.NOMBRE},this.changeColor(this.numeroDiente+"2",this.ladoDiente[1]);break;case"Abajo":this.ladoDiente[2].observacion=o.OBSERVACION,this.ladoDiente[2].observacion=o.ID_TRATAMIENTO,this.ladoDiente[2].observacion=o.ID_ESTADO,this.ladoDiente[2].estado={COLOR:o.COLOR,COMPLETO:o.COMPLETO,ID_ESTADO:o.ID_ESTADO,NOMBRE:o.NOMBRE},this.changeColor(this.numeroDiente+"3",this.ladoDiente[2]);break;case"Izquierda":this.ladoDiente[3].observacion=o.OBSERVACION,this.ladoDiente[3].observacion=o.ID_TRATAMIENTO,this.ladoDiente[3].observacion=o.ID_ESTADO,this.ladoDiente[3].estado={COLOR:o.COLOR,COMPLETO:o.COMPLETO,ID_ESTADO:o.ID_ESTADO,NOMBRE:o.NOMBRE},this.changeColor(this.numeroDiente+"4",this.ladoDiente[3]);break;case"Centro":this.ladoDiente[4].observacion=o.OBSERVACION,this.ladoDiente[4].observacion=o.ID_TRATAMIENTO,this.ladoDiente[4].observacion=o.ID_ESTADO,this.ladoDiente[4].estado={COLOR:o.COLOR,COMPLETO:o.COMPLETO,ID_ESTADO:o.ID_ESTADO,NOMBRE:o.NOMBRE},this.changeColor(this.numeroDiente+"5",this.ladoDiente[4])}})})}selectLado(t){switch(this.odontologiaService.numeroDienteSeleccionado=this.numeroDiente,t){case`${this.numeroDiente}1`:this.odontologiaService.ladoSeleccionadoNombre="Arriba",this.odontologiaService.numeroLadoSeleccionadoNombre=0,this.odontologiaService.idDienteSeleccionado=this.numeroDiente+1;break;case`${this.numeroDiente}2`:this.odontologiaService.ladoSeleccionadoNombre="Derecha",this.odontologiaService.numeroLadoSeleccionadoNombre=1,this.odontologiaService.idDienteSeleccionado=this.numeroDiente+2;break;case`${this.numeroDiente}3`:this.odontologiaService.ladoSeleccionadoNombre="Abajo",this.odontologiaService.numeroLadoSeleccionadoNombre=2,this.odontologiaService.idDienteSeleccionado=this.numeroDiente+3;break;case`${this.numeroDiente}4`:this.odontologiaService.ladoSeleccionadoNombre="Izquierda",this.odontologiaService.numeroLadoSeleccionadoNombre=3,this.odontologiaService.idDienteSeleccionado=this.numeroDiente+4;break;case`${this.numeroDiente}5`:this.odontologiaService.ladoSeleccionadoNombre="Centro",this.odontologiaService.numeroLadoSeleccionadoNombre=4,this.odontologiaService.idDienteSeleccionado=this.numeroDiente+5}this.cargarHistorial()}changeColor(t,o){const i=document.getElementById(t);if(o.estado.COMPLETO){this.dienteCompleto=!0;for(let a=1;a<=5;a++){let c=t.slice(0,-1)+a;const m=document.getElementById(c);m.attributes.setNamedItem(m.attributes.getNamedItem("fill")).value=o.estado.COLOR}}else{if(this.dienteCompleto)for(let a=1;a<=5;a++){let c=t.slice(0,-1)+a;const m=document.getElementById(c);m.attributes.setNamedItem(m.attributes.getNamedItem("fill")).value="white"}i.attributes.setNamedItem(i.attributes.getNamedItem("fill")).value=o.estado.COLOR}this.ladoDiente.forEach(a=>{a.lado==this.odontologiaService.numeroLadoSeleccionadoNombre&&(a.estado=o.estado,a.observacion=o.observacion,a.tratamiento=o.tratamiento)})}cargarHistorial(){this.odontologiaService.getHistorialDiente(this.pacienteService.selectedIdPaciente,this.odontologiaService.ladoSeleccionadoNombre,this.numeroDiente).subscribe()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(U),e.Y36(p))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-diente"]],inputs:{numeroDiente:"numeroDiente"},decls:14,vars:6,consts:[[1,"text-center"],[1,"d-flex","justify-content-center"],[2,"width","10px"],[1,"pb-0","mb-0","fw-bold"],["height","50","width","50","id","p19"],["p19",""],["points","10,10 50,10 40,20 20,20","fill","white","stroke","black","data-bs-toggle","modal","data-bs-target","#exampleModal",3,"id","click"],["points","50,10 50,50 40,40 40,20","fill","white","stroke","black","data-bs-toggle","modal","data-bs-target","#exampleModal",3,"id","click"],["points","50,50 10,50 20,40 40,40","fill","white","stroke","black","data-bs-toggle","modal","data-bs-target","#exampleModal",3,"id","click"],["points","10,50 20,40 20,20 10,10","fill","white","stroke","black","data-bs-toggle","modal","data-bs-target","#exampleModal",3,"id","click"],["points","20,20 40,20 40,40 20,40","fill","white","stroke","black","data-bs-toggle","modal","data-bs-target","#exampleModal",3,"id","click"],[3,"onSubmit"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"h4",3),e._uU(4),e.qZA()(),e.TgZ(5,"div",1),e.O4$(),e.TgZ(6,"svg",4,5)(8,"polygon",6),e.NdJ("click",function(){return i.selectLado(i.numeroDiente+"1")}),e.qZA(),e.TgZ(9,"polygon",7),e.NdJ("click",function(){return i.selectLado(i.numeroDiente+"2")}),e.qZA(),e.TgZ(10,"polygon",8),e.NdJ("click",function(){return i.selectLado(i.numeroDiente+"3")}),e.qZA(),e.TgZ(11,"polygon",9),e.NdJ("click",function(){return i.selectLado(i.numeroDiente+"4")}),e.qZA(),e.TgZ(12,"polygon",10),e.NdJ("click",function(){return i.selectLado(i.numeroDiente+"5")}),e.qZA()()()(),e.kcU(),e.TgZ(13,"app-modal",11),e.NdJ("onSubmit",function(c){return i.changeColor(i.odontologiaService.idDienteSeleccionado,c)}),e.qZA()),2&o&&(e.xp6(4),e.Oqu(i.numeroDiente),e.xp6(4),e.Q6J("id",i.numeroDiente+"1"),e.xp6(1),e.Q6J("id",i.numeroDiente+"2"),e.xp6(1),e.Q6J("id",i.numeroDiente+"3"),e.xp6(1),e.Q6J("id",i.numeroDiente+"4"),e.xp6(1),e.Q6J("id",i.numeroDiente+"5"))},dependencies:[Ye]})}return n})();function Be(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"mat-form-field",18)(2,"mat-label"),e._uU(3,"Tratamiento"),e.qZA(),e._UZ(4,"input",19),e.qZA(),e.TgZ(5,"mat-form-field",10)(6,"mat-label"),e._uU(7,"Precio"),e.qZA(),e.TgZ(8,"input",20),e.NdJ("change",function(i){const c=e.CHM(t).index,m=e.oxw();return e.KtG(m.actualizarTotal(c,i))}),e.qZA()()()}if(2&n){const t=s.$implicit;e.xp6(4),e.Q6J("value",t.nombre_tratamiento+", Diente: "+t.INDICE_DIENTE+", Lado: "+t.LADO_DIENTE),e.xp6(4),e.Q6J("value",t.precio_tratamiento)}}function je(n,s){if(1&n&&(e.TgZ(0,"div",17)(1,"h3",21),e._uU(2),e.qZA(),e.TgZ(3,"h3",22)(4,"span",9),e._uU(5),e.qZA()()()),2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.nombre_tratamiento+", Diente: "+t.INDICE_DIENTE+", Lado: "+t.LADO_DIENTE),e.xp6(3),e.hij("",t.precio_tratamiento," Lps")}}let Ge=(()=>{class n{constructor(t,o,i){this.odontologiaService=t,this._sweet=o,this.pacienteService=i,this.presupuesto=[],this.total=0}actualizarTotal(t,o){this.total=0,console.log(o.target.value),this.presupuesto[t].precio_tratamiento=""==o.target.value?0:o.target.value,this.presupuesto.forEach(i=>{console.log(i),this.total+=parseFloat(i.precio_tratamiento),console.log(this.total)})}enviarPresupuesto(){this.impo()}impo(){let i=`\n    <div id="otra">\n    <img src="../../../assets/assets/img/ft.jpg" alt="">\n    <div class="parraf">\n    <h5>Data Center</h5>\n    <h5>Presupuesto</h5>\n    <h6>${(new Date).toLocaleString()}</h6>\n    </div>\n    </div><br>`;T({printable:"reporte",type:"html",header:i,css:"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css",style:"@page {   margin-left: 10%; } #otra {display: block  } #otra img { max-width: 140px;} .parraf { width: 100%; padding: 0px; text-align: center;  max-height: 80px, margin-left: 90%; }",scanStyles:!1,documentTitle:"Presupuesto",font_size:"10pt",ignoreElements:["d"]})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(U),e.Y36(b.T),e.Y36(p))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-modal-presupuesto"]],inputs:{presupuesto:"presupuesto",total:"total"},decls:47,vars:5,consts:[["id","modalPresupuesto","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["close",""],[1,"modal-body"],["class","row",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],["appearance","outline",1,"col-3"],["matInput","","type","number","disabled","true","maxlength","250","required","",3,"value"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary","me-1"],["type","button",1,"btn","btn-primary",3,"click"],["id","JEJEJEJEJEJEJE","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["id","reporte",1,"modal-body"],[1,"row"],["appearance","outline",1,"col-9"],["matInput","","disabled","true","maxlength","250","required","",3,"value"],["matInput","","type","number","maxlength","250","required","",3,"value","change"],[1,"col-9"],[1,"col-3","text-end"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),e._uU(5,"Presupuesto"),e.qZA(),e._UZ(6,"button",5,6),e.qZA(),e.TgZ(8,"div",7)(9,"h2"),e._uU(10,"Tratamientos:"),e.qZA(),e.YNc(11,Be,9,2,"div",8),e.TgZ(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),e._uU(15,"Total"),e.qZA(),e._UZ(16,"input",11),e.qZA()()(),e.TgZ(17,"div",12)(18,"div")(19,"button",13),e._uU(20,"Cerrar"),e.qZA(),e.TgZ(21,"button",14),e.NdJ("click",function(){return i.enviarPresupuesto()}),e._uU(22,"Generar presupuesto"),e.qZA()()()()()(),e.TgZ(23,"div",15)(24,"div",1)(25,"div",2)(26,"div",3)(27,"h1",4),e._uU(28,"Presupuesto"),e.qZA(),e._UZ(29,"button",5,6),e.qZA(),e.TgZ(31,"div",16)(32,"h4")(33,"strong"),e._uU(34,"Nombre paciente: "),e.qZA(),e._uU(35),e.qZA(),e._UZ(36,"hr"),e.TgZ(37,"h2"),e._uU(38,"Tratamientos:"),e.qZA(),e.YNc(39,je,6,2,"div",8),e._UZ(40,"hr"),e.TgZ(41,"div",9)(42,"h2"),e._uU(43,"Total"),e.qZA()(),e.TgZ(44,"div",9)(45,"h3"),e._uU(46),e.qZA()()()()()()),2&o&&(e.xp6(11),e.Q6J("ngForOf",i.presupuesto),e.xp6(5),e.Q6J("value",i.total),e.xp6(19),e.Oqu(i.pacienteService.selectedNamePaciente),e.xp6(4),e.Q6J("ngForOf",i.presupuesto),e.xp6(7),e.hij("",i.total," Lps"))},dependencies:[d.sg,x.Nt,h.KE,h.hX]})}return n})();function He(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-diente",20),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("numeroDiente",t)}}function ze(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-diente",20),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("numeroDiente",t)}}function Ke(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-diente",20),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("numeroDiente",t)}}function Ve(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-diente",20),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("numeroDiente",t)}}function Xe(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-diente",20),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("numeroDiente",t)}}function We(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-diente",20),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("numeroDiente",t)}}function et(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-diente",20),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("numeroDiente",t)}}function tt(n,s){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"app-diente",20),e.qZA()),2&n){const t=s.$implicit;e.xp6(1),e.Q6J("numeroDiente",t)}}function ot(n,s){if(1&n&&(e.TgZ(0,"h1",13)(1,"strong"),e._uU(2,"Odontograma"),e.qZA()(),e.TgZ(3,"div",14)(4,"h4")(5,"strong"),e._uU(6,"Nombre paciente: "),e.qZA(),e._uU(7),e.qZA()(),e.TgZ(8,"div",15)(9,"div",16)(10,"div",17),e.YNc(11,He,2,1,"div",18),e.qZA(),e.TgZ(12,"div",17),e.YNc(13,ze,2,1,"div",18),e.qZA()(),e.TgZ(14,"div",19)(15,"div",17),e.YNc(16,Ke,2,1,"div",18),e.qZA(),e.TgZ(17,"div",17),e.YNc(18,Ve,2,1,"div",18),e.qZA()(),e.TgZ(19,"div",19)(20,"div",17),e.YNc(21,Xe,2,1,"div",18),e.qZA(),e.TgZ(22,"div",17),e.YNc(23,We,2,1,"div",18),e.qZA()(),e.TgZ(24,"div",19)(25,"div",17),e.YNc(26,et,2,1,"div",18),e.qZA(),e.TgZ(27,"div",17),e.YNc(28,tt,2,1,"div",18),e.qZA()()()),2&n){const t=e.oxw();e.xp6(7),e.Oqu(t.pacienteService.selectedNamePaciente),e.xp6(4),e.Q6J("ngForOf",t.dientes1),e.xp6(2),e.Q6J("ngForOf",t.dientes2),e.xp6(3),e.Q6J("ngForOf",t.dientes5),e.xp6(2),e.Q6J("ngForOf",t.dientes6),e.xp6(3),e.Q6J("ngForOf",t.dientes8),e.xp6(2),e.Q6J("ngForOf",t.dientes7),e.xp6(3),e.Q6J("ngForOf",t.dientes4),e.xp6(2),e.Q6J("ngForOf",t.dientes3)}}const it=function(){return["/dashboard"]};let nt=(()=>{class n{constructor(t,o,i){this.pacienteService=t,this._route=o,this.odontologiaService=i,this.fillColor="white",this.total=0,this.presupuesto=[],this.dientes1=["1.8","1.7","1.6","1.5","1.4","1.3","1.2","1.1"],this.dientes2=["2.1","2.2","2.3","2.4","2.5","2.6","2.7","2.8"],this.dientes3=["31","32","33","34","35","36","37","38"],this.dientes4=["48","47","46","45","44","43","42","41"],this.dientes5=["61","62","63","64","65"],this.dientes6=["5.5","54","53","52","51"],this.dientes7=["71","72","73","74","75"],this.dientes8=["85","84","83","82","81"]}ngOnChanges(t){throw new Error("Method not implemented.")}ngOnInit(){0===this.pacienteService.selectedIdPaciente?this._route.navigateByUrl("/pacientes/pacientes"):(this.cargarTratamientos(),this.cargarDientesOdontograma(),this.cargarEstadosDiente())}ngAfterViewInit(){this.odontoContainer.createEmbeddedView(this.odontoTemplate)}changeColor(t){this.fill=this.fillColor,t.attributes.setNamedItem(t.attributes.getNamedItem("fill")).value=this.fill}amarillo(){this.fillColor="yellow"}rojo(){this.fillColor="red"}cargarOdonto(){this.odontoTemplate=this.nativo}cargarDientesOdontograma(){this.odontologiaService.getOdontograma(this.pacienteService.selectedIdPaciente).subscribe(o=>{console.log(o)})}cargarPresupuesto(){this.odontologiaService.getPresupuesto(this.pacienteService.selectedIdPaciente).subscribe(o=>{this.total=o.total,this.presupuesto=o.presupuesto})}cargarTratamientos(){this.odontologiaService.getTratamientos().subscribe()}cargarEstadosDiente(){this.odontologiaService.getEstadosDientes().subscribe()}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(p),e.Y36(_.F0),e.Y36(U))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-odontograma"]],viewQuery:function(o,i){if(1&o&&(e.Gf(e.Rgc,7),e.Gf(e.Rgc,7,e.s_b)),2&o){let a;e.iGM(a=e.CRH())&&(i.odontoTemplate=a.first),e.iGM(a=e.CRH())&&(i.odontoContainer=a.first)}},features:[e.TTD],decls:24,vars:4,consts:[[1,"col-lg-6"],["aria-label","breadcrumb"],[1,"text"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"row","text-center"],["odontograma",""],[1,"row","d-flex","justify-content-end"],[1,"col-lg-2"],["data-bs-toggle","modal","data-bs-target","#modalPresupuesto",1,"btn","btn-primary",3,"click"],[3,"presupuesto","total"],[1,"text-center"],[1,"col-lg-4"],[1,"col-lg-12"],[1,"d-flex","justify-content-center"],[1,"d-flex"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","mt-3"],[3,"numeroDiente"]],template:function(o,i){1&o&&(e.TgZ(0,"div")(1,"div",0)(2,"nav",1)(3,"h1")(4,"strong",2),e._uU(5,"Odontograma"),e.qZA()(),e.TgZ(6,"ol",3)(7,"li",4)(8,"a",5),e._uU(9,"Inicio"),e.qZA()(),e.TgZ(10,"li",6)(11,"a"),e._uU(12,"Odontograma"),e.qZA()()()()(),e.TgZ(13,"mat-card")(14,"mat-card-content")(15,"div",7),e.YNc(16,ot,29,9,"ng-template",null,8,e.W1O),e.qZA(),e._UZ(18,"br"),e.TgZ(19,"div",9)(20,"div",10)(21,"button",11),e.NdJ("click",function(){return i.cargarPresupuesto()}),e._uU(22,"Generar presupuesto"),e.qZA()()()()()(),e._UZ(23,"app-modal-presupuesto",12)),2&o&&(e.xp6(8),e.Q6J("routerLink",e.DdM(3,it)),e.xp6(15),e.Q6J("presupuesto",i.presupuesto)("total",i.total))},dependencies:[d.sg,_.rH,u.a8,u.dn,Qe,Ge]})}return n})();function at(n,s){if(1&n&&(e.TgZ(0,"div",14)(1,"h4",15),e._uU(2),e.qZA(),e.TgZ(3,"b")(4,"span",15),e._uU(5),e.qZA()()()),2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.NOMBRE),e.xp6(3),e.hij(" Respuesta: ",1==t.RESP?"SI":"NO","")}}function rt(n,s){if(1&n&&(e.TgZ(0,"div",16)(1,"h4",15),e._uU(2),e.qZA()()),2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.NOMBRE)}}const st=function(){return["/dashboard"]},ct=[{path:"pacientes",component:ce},{path:"citas",component:Ue},{path:"tratamiento",component:Pe},{path:"tratamiento/info",component:(()=>{class n{constructor(t,o,i,a,c){this.http=t,this.query=o,this._swwet=i,this._route=a,this.pacienteService=c,this.cuestio=[],this.cuestionarios=[],this.enfermedad=[],this.enfermedades=[],this.fecha=new Date,this.data=[],this.query.queryParams.subscribe(m=>{this.data=m})}ngOnInit(){0===this.pacienteService.selectedIdPaciente?this._route.navigateByUrl("/pacientes/pacientes"):this.getAnswers()}ngOnDestroy(){this.pacienteService.selectedIdPaciente=0,this.pacienteService.selectedNamePaciente=""}getAnswers(){this.http.get(f.N.url+"getAnswers/"+this.pacienteService.selectedIdPaciente).subscribe(o=>{this.fecha=o.respuestas.rows[0].FECHA,this.enfermedades=o.enfermedades,this.cuestionarios=o.respuestas.rows,console.log(o)})}static#e=this.\u0275fac=function(o){return new(o||n)(e.Y36(D.eN),e.Y36(_.gz),e.Y36(b.T),e.Y36(_.F0),e.Y36(p))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-exploracion-info"]],decls:41,vars:9,consts:[[1,"col-lg-6"],["aria-label","breadcrumb"],[1,"text"],[1,"breadcrumb"],[1,"breadcrumb-item"],[3,"routerLink"],[1,"breadcrumb-item","active"],[1,"text-center"],[1,"row"],[1,"col-lg-4"],[1,"row","container-fluid"],["class","col-lg-6 mb-2",4,"ngFor","ngForOf"],[1,"container-fluid"],["class","",4,"ngFor","ngForOf"],[1,"col-lg-6","mb-2"],[1,"p-0","m-0"],[1,""]],template:function(o,i){1&o&&(e.TgZ(0,"div")(1,"div",0)(2,"nav",1)(3,"h1")(4,"strong",2),e._uU(5,"Exploracion del paciente"),e.qZA()(),e.TgZ(6,"ol",3)(7,"li",4)(8,"a",5),e._uU(9,"Inicio"),e.qZA()(),e.TgZ(10,"li",6)(11,"a"),e._uU(12,"Exploracion del paciente"),e.qZA()()()()(),e.TgZ(13,"mat-card")(14,"mat-card-content")(15,"h2",7)(16,"strong"),e._uU(17,"Exploracion del paciente"),e.qZA()(),e.TgZ(18,"h4",7)(19,"strong"),e._uU(20,"Fecha:"),e.qZA(),e._uU(21),e.ALo(22,"date"),e.qZA(),e.TgZ(23,"div",8)(24,"div",9)(25,"h4")(26,"strong"),e._uU(27,"Nombre paciente: "),e.qZA(),e._uU(28),e.qZA()()(),e._UZ(29,"br"),e.TgZ(30,"h3")(31,"strong"),e._uU(32,"Cuestionario:"),e.qZA()(),e.TgZ(33,"div",10),e.YNc(34,at,6,2,"div",11),e.qZA(),e._UZ(35,"br"),e.TgZ(36,"h3")(37,"strong"),e._uU(38,"Enfermedades que el paciente reporta:"),e.qZA()(),e.TgZ(39,"div",12),e.YNc(40,rt,3,1,"div",13),e.qZA()()()()),2&o&&(e.xp6(8),e.Q6J("routerLink",e.DdM(8,st)),e.xp6(13),e.hij(" ",e.xi3(22,5,i.fecha,"d/M/yy"),""),e.xp6(7),e.Oqu(i.pacienteService.selectedNamePaciente),e.xp6(6),e.Q6J("ngForOf",i.cuestionarios),e.xp6(6),e.Q6J("ngForOf",i.enfermedades))},dependencies:[d.sg,_.rH,u.a8,u.dn,d.uU]})}return n})()},{path:"odontograma",component:nt}];let lt=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(ct),_.Bz]})}return n})();var dt=l(5089),mt=l(4104);let pt=(()=>{class n{static#e=this.\u0275fac=function(o){return new(o||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[d.ez,lt,dt.q,r.u5,r.UX,mt.Nh,Q.p9,F.Fk]})}return n})()},1429:(G,q,l)=>{l.d(q,{D:()=>I});var d=l(6223),_=l(5619),C=l(9397),T=l(7398),e=l(7337),r=l(5879),Z=l(9862),v=l(2322);let I=(()=>{class f{constructor(g,p){this._http=g,this._globals=p,this.bitacora=new _.X([]),this.response$=this.bitacora.asObservable(),this.Cargando$=new _.X(!1),this.responseCargando$=this.Cargando$.asObservable(),this.url=`${e.N.url}bitacora`,this.register=new d.cw({COD_ROL:new d.NI(null),NOMBRE_ROL:new d.NI("",d.kI.required)})}inicializarForm(){this.register.setValue({COD_ROL:null,NOMBRE_ROL:""})}popForm(g){this.register.setValue(g)}mostrar(g=""){return this.Cargando$.next(!0),this._globals.obtener("bitacora?busqueda="+g).pipe((0,C.b)(b=>{this.Cargando$.next(!1),this.bitacora.next(b)})).subscribe()}crear(g){return this._http.post(this.url,g).pipe((0,T.U)(p=>p))}actualizar(g){return this._http.put(this.url,g).pipe((0,T.U)(p=>p))}eliminar(){return this._http.delete(this.url)}static#e=this.\u0275fac=function(p){return new(p||f)(r.LFG(Z.eN),r.LFG(v.U))};static#t=this.\u0275prov=r.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()}}]);